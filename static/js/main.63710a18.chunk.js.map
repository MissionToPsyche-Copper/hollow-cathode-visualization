{"version":3,"sources":["Header.component..js","Footer.component.js","Galactic.js","ProtoParticle.js","Painter.js","PresMode.js","LearningMode.js","SummaryPage.js","Ref.component.js","LandingPage.js","myRouter.js","App.js","index.js"],"names":["HeaderComponent","document","addEventListener","e","currentDropdown","isDropdownButton","target","matches","closest","classList","toggle","querySelectorAll","forEach","dropdown","remove","className","role","href","src","loading","width","alt","React","Component","FooterComponent","top_of_cathode_constant","bottom_of_cathode_constant","electronImage","Image","xenonImage","ionizedXenonImage","collision_elasticity","TYPE_ELECTRON","TYPE_XENON","TYPE_IONIZEDXENON","particles_array","ejectFlag","ionizeFlag","ProtoParticle","layer","x","y","vx","vy","ax","ay","particle_type","max_y","min_y","max_x","min_x","accelerating","this","id","Math","ceil","random","ctx","canvas","image","charge","radius","console","error","max","min","floor","height","anime_key","interval","halfLife","push","drawImage","temp_this","window","requestAnimationFrame","animate","cancelAnimationFrame","clearPath","clearRect","type","setImage","generateElectron","getCathTubeBot","getCathTubeTop","getParticleTubeRightX","getCathTubeLeftX","clearAnimation","index","ionize","setIonizeFlag","setEjectFlag","particle","getCathTubeRightX","draw","delete_self","mmax_y","mmin_y","mmax_x","mmin_x","xenon0","setAnimation","xenonAnimation","startAnimation","limiti","length","i","pop","electron0","electronAnimation","value","Painter","layers","psyche_spacecraft","thruster_on","thruster_off","base_cathode","draw_csv_Base_Drawing","bind","getCanvasHeight","XenonGeneratorKey","ElectronGeneratorKey_Top","ElectronGeneratorKey_Bot","layer_number","getLayer","getCanvasWidth","clearCanvas","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","startElectronGenerator","startXenonGenerator","spawn_rate","generateXenon","setInterval","new_spawn_rate","killXenonGenerator","clearInterval","killElectronGenerator","getInsertTopX","getInsertTopY","getInsertBotY","killAllParticles","ionizeParticles","ejectParticles","PresMode","props","canvas0","createRef","canvas1","canvas2","canvas3","canvas4","canvas5","canvas6","canvas7","nextButton_HandleClick","autoToggleButton_HandleClick","autoID","delay","state","deltastage","scene","canvas_height","getElementById","clientHeight","canvas_width","clientWidth","ctx0","current","getContext","ctx1","ctx2","ctx3","ctx4","ctx5","ctx6","ctx7","painter","scenarioRefresh","isAuto","killProtoParticle","draw_csv_Heat_Insert","draw_csv_gas_feed","draw_csv_internal_plasma","draw_csv_keeper_electrode","draw_csv_eject_plasma","newdeltastage","newscene","setState","log","style","visibility","ref","to","onClick","HALL_THRUSTER_ON","promisify","require","setTimeout","LearningMode","handleResize","innerHeight","innerWidth","HeatInsertToggle_HandleClick","GasFeedToggle_HandleClick","KeeperElectrodeToggle_HandleClick","nextButton_plasma_HandleClick","nextButton_eject_HandleClick","hallThrusterToggle_HandleClick","nextButton_hallThrusterToShell_HandleClick","nextButton_shellToLearningModeCore_HandleClick","nextButton_end_HandleClick","text","thrusterButtonText","removeEventListener","elementId","display","onclick","hideElement","draw_Hall_Thruster_Off","showElement","draw_Hall_Thruster_On","draw_csv_Base_Drawing_guide","t","contains","stopEjecting","newScene","stopIonizing","draw_csv_internal_plasma_off_gas_guide","draw_csv_internal_plasma_off_heat_guide","add","nextButton","nextButton_Accessible","replace","innerText","hidden","SummaryPage","click","RefComponent","LandingPage","LearningMode_HandleClick","MyRouter","path","element","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.63710a18.chunk.js","sourcesContent":["import {Link} from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nclass HeaderComponent extends React.Component{\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"click\", e=>{\r\n            const isDropdownButton= e.target.matches(\"[data-dropdown-button]\")\r\n            if(!isDropdownButton && e.target.closest('[data-dropdown]'!=null))return\r\n\r\n            let currentDropdown\r\n            if(isDropdownButton){\r\n                currentDropdown= e.target.closest('[data-dropdown]')\r\n                currentDropdown.classList.toggle('active')\r\n            }\r\n\r\n            document.querySelectorAll(\"[data-dropdown].active\").forEach(dropdown=>{\r\n                if(dropdown === currentDropdown) return\r\n                dropdown.classList.remove('active')\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <header className=\"navbar w-nav\" data-animation=\"default\" data-collapse=\"medium\" data-duration=\"400\"\r\n                    data-easing=\"ease\" data-easing2=\"ease\" role=\"banner\">\r\n                <div className=\"container w-container\">\r\n                    <a href=\"/hollow-cathode-visualization/\" className=\"brand w-nav-brand\">\r\n                        <img src=\"/hollow-cathode-visualization/images/psyche.svg\" loading=\"lazy\" width=\"75\" alt=\"Psyche Mission Logo\"/>\r\n                    </a>\r\n                    <nav role=\"navigation\" className=\"nav-menu w-nav-menu\">\r\n                        <div className=\"dropdown\" data-dropdown>\r\n                            <button className=\"text-block\" data-dropdown-button>About Us</button>\r\n                            <div className=\"dropdown-list\">\r\n                                <a href=\"https://psyche.asu.edu/mission/\" className=\"dropdown-link\">Missions</a>\r\n                                <a href=\"https://psyche.asu.edu/events/\" className=\"dropdown-link\">Events</a>\r\n                                <a href=\"https://psyche.asu.edu/get-involved/capstone-projects/capstone-projects-copper-class/hollow-cathode-visualization-penn-state-behrend/\"\r\n                                   className=\"dropdown-link\">Projects</a>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <a href=\"https://psyche.asu.edu/contact/\" className=\"nav-menu nav-link\">Contact</a>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderComponent;","import Link from 'react-router-dom'\r\nimport React from 'react'\r\nimport './App.css'\r\n\r\nclass FooterComponent extends React.Component{\r\n    render(){\r\n        return(\r\n            <footer className=\"footer wf-section\" role=\"footer\">\r\n\r\n                <div className=\"wf-container footer-flex-container\">\r\n                    <a href=\"https://psyche.asu.edu/\" className=\"footer-logo-link\"><img src=\"/hollow-cathode-visualization/images/psyche.svg\"\r\n                                                                                        loading=\"lazy\"\r\n                                                                                        alt=\"Psyche Mission Logo\"\r\n                                                                                        className=\"footer-image\"/></a>\r\n                    <div>\r\n                        <h1 className=\"footer-heading\">Partnership</h1>\r\n                        <u1 role=\"list\" className=\"w-list-unstyled\">\r\n                            <li>\r\n                                <a href=\"https://behrend.psu.edu/\" className=\"footer-link-1\">Penn State Behrend</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"https://asu.edu/\" className=\"footer-link-1\">Arizona State University</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"https://nasa.gov/\" className=\"footer-link-1\">NASA</a>\r\n                            </li>\r\n                        </u1>\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"footer-heading\">About</h1>\r\n                        <u1 role=\"list\" className=\"w-list-unstyled\">\r\n                            <li>\r\n                                <a href=\"https://psyche.asu.edu/get-involved/careers-and-internships/\" className=\"footer-link-1\">Careers</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href={'/ref'} className={'footer-link-1'}>References</a>\r\n                            </li>\r\n                        </u1>\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"footer-heading\">Follow Us:</h1>\r\n                        <u1 role=\"list\" className=\"w-list-unstyled\">\r\n                            <li>\r\n                                <a href=\"https://www.facebook.com/MissionToPsyche\" className=\"footer-link-1\">Facebook</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"https://www.instagram.com/accounts/login/?next=/missiontopsyche/\" className=\"footer-link-1\">Instagram</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"https://twitter.com/MissionToPsyche\" className=\"footer-link-1\">Twitter</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href={'https://www.youtube.com/channel/UC2BGcbPW8mxryXnjQcBqk6A/'} className={'footer-link-1'}>YouTube</a>\r\n                            </li>\r\n                        </u1>\r\n                    </div>\r\n                </div>\r\n                <div className={'footer-disclaimer'}>\r\n                    Disclaimer: This work was created in partial fulfillment of Penn State University\r\n                    Capstone Course SWENG 480/481 and CMPSC 484/485. The work is a result of the Psyche\r\n                    Student Collaborations component of NASA’s Psyche Mission <a href={'https://psyche.asu.edu/'} className={'footer-link-2'}>(https://psyche.asu.edu/)</a>. “Psyche: A Journey to a Metal World” [Contract\r\n                    number NNM16AA09C] is part of the NASA Discovery Program mission to\r\n                    solar system targets. Trade names and trademarks of ASU and NASA are\r\n                    used in this work for identification only. Their usage does not constitute an\r\n                    official endorsement, either expressed or implied, by Arizona State\r\n                    University or National Aeronautics and Space Administration. The content\r\n                    is solely the responsibility of the authors and does not necessarily\r\n                    represent the official views of ASU or NASA.\r\n                    </div>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FooterComponent;","// // Huy's Dimensions\r\n// export const canvas_height = 600; // becoming depreciated\r\n// export const canvas_width = 940; // becoming depreciated\r\n// Jack's Dimensions\r\nexport const canvas_height = 750; // hopefully completely depreciated\r\nexport const canvas_width = 1600; // hopefully completely depreciated\r\n\r\n/**\r\n * Mapping layers via constants\r\n * These should always be used to reference layers when used as parameters to a function or when interacting with this.state.\r\n * This allows us to easily add and remove layers.\r\n */\r\nexport const base = 0;              // ctx0 // scene[base]\r\nexport const heat = 1;              // ctx1 // scene[heat]\r\nexport const gas = 2;               // ctx2 // scene[gas]\r\nexport const plasma = 3;            // ctx3 // scene[plasma]\r\nexport const keeper = 4;            // ctx4 // scene[keeper]\r\nexport const eject = 5;             // ctx5 // scene[eject]\r\nexport const hallThrusterOff = 6;   // ctx6 // scene[hallThrusterOff]\r\nexport const hallThrusterOn = 7;    // ctx7 // scene[hallThrusterOn]\r\n\r\n// Relative Dimensions //\r\n// cathode tube relative position modifiers (how we place the box on the screen relative to the canvas size\r\n// size/location of the ______ relative to the width/height of the window\r\nexport const right_of_cathode_constant = 0.35;\r\nexport const left_of_cathode_constant = 0.20;\r\nexport const top_of_cathode_constant = 0.39;\r\nexport const bottom_of_cathode_constant = 0.49;\r\nexport const particle_right_bounding_box = 1.00;\r\n\r\n\r\n// Text //\r\nexport const hallThrusterPrimaryText = \"The large circular component to the left is a Hall thruster. There are multiple of these on the spacecraft and they’re responsible for propelling the spacecraft through outer space. The Hall thruster produces thrust by ionizing particles and shooting them away from the spacecraft at incredibly high speeds.\"\r\n\r\nexport const hallThrusterSecondaryOnText = \"The particles are the Hall thruster's propellant. While particles are being stored, they are neutral, so they don't react with electric fields like magnets, and thus are easy to store. When the spacecraft needs to use gas particles, the spacecraft ionizes particles so that they can react to electromagnetic fields. The hall thruster generates an extremely strong magnetic field which attracts the particles from inside the thruster and shoots ions out and away from the spacecraft at hundreds of kilometers a second. This interaction is like trying to stick the wrong ends of two strong magnets together. \\n\" +\r\n    \"\\n\" +\r\n    \"The unit slightly above the Hall thruster is called a hollow cathode. It is responsible for supplying the hall thruster with the plasma needed to ionize its fuel. \\n\" +\r\n    \"\\n\" +\r\n    \"In order to ionize a particle, we need electrons or other ionized particles. For this, we need the hollow cathode. \"\r\nexport const hallThrusterSecondaryOffText = \"The particles are the Hall thruster's propellant. While particles are being stored, they are neutral, so they don't react with electric fields like magnets, and thus are easy to store. When the spacecraft needs to use gas particles, the spacecraft ionizes particles so that they can react to electromagnetic fields. The hall thruster generates an extremely strong magnetic field which attracts the particles from inside the thruster and shoots ions out and away from the spacecraft at hundreds of kilometers a second. This interaction is like trying to stick the wrong ends of two strong magnets together. \\n\" +\r\n    \"\\n\" +\r\n    \"The unit slightly above the Hall thruster is called a hollow cathode. It is responsible for supplying the hall thruster with the plasma needed to ionize its fuel. \\n\" +\r\n    \"\\n\" +\r\n    \"In order to ionize a particle, we need electrons or other ionized particles. For this, we need the hollow cathode. \"\r\n\r\nexport const cathodeShellPrimaryTitleText = \"This is a Hollow Cathode\"\r\nexport const cathodeShellPrimaryText = \"This is a hollow cathode; it has two main jobs when it comes to propelling the Psyche spacecraft. Its first job is to emit a stream of electrons which are then pulled in and trapped by the hall thruster’s magnetic fields and used to accelerate propellant in order to make thrust. \\n\" +\r\n    \"\\n\" +\r\n    \"The other job of the hollow cathode is to neutralize the ions ejected by the Hall thruster as they fly away from the spacecraft. \\n\" +\r\n    \"\\n\" +\r\n    \"Without the hollow cathode, when the Hall thruster emits plasma, the Hall thruster is negatively charging the entire rocket. [5] This phenomenon can cause spacecraft erosion and reduce the thrust force. \\n\" +\r\n    \"\\n\" +\r\n    \"Ionized particles react to electromagnetic fields, so if allowed to move freely in space, they may end up sticking to other parts of the spacecraft or interfering with its sensors. Particles sticking to spacecraft can also cause erosion or even reduce the amount of thrust the hall thrusters generate, so this job is equally as important. As particles are ejected from the Hall thruster, the hollow cathode neutralizes them by emitting a stream of electrons and ionized xenon particles which neutralize particles leaving the hall thruster.\"\r\n\r\nexport const cathodeCSVTitleText = \"Now you can see Inside the Hollow Cathode\"\r\nexport const cathodeCSVText = \"The operation of the hollow cathode can be broken down into 3 main functions, which you can control via the buttons at the bottom right. These functions are labeled “toggle heater”, “toggle gas feed”, and “toggle keeper electrode”. You can enable and disable the three main operations for the hollow cathode by pressing the buttons below.  \\n\" +\r\n    \"\\n\" +\r\n    \"Our end goal is to get the hollow cathode fully operating again. To do this, we first need to make a hot plasma out of electrons and ionized xenon in the cathode tube and then eject it for the Hall thruster. To give a place to start, the cathode inserts are the most important component of the hollow cathode. \"\r\n\r\nexport const heatTitleText = \"Heating the Inserts\"\r\nexport const heatText = \"Heaters are coiled around the cathode tube and are responsible for heating up the cathode insert to extreme temperatures of at least at 1200 degrees Celsius (or 2192 degrees Fahrenheit) [2]. Heaters are surrounded by a heat shield to trap heat in and protect other electrical components from the extreme heat generated by the inserts. The insert is made of a special material which can emit electrons at high temperatures. The insert is placed inside of the hollow cathode and pushed against the orifice [2]; it is labeled to the left.\";\r\n\r\nexport const gasTitleText2 = \"Turning on the Gas Feed\"\r\nexport const gasText = \"The role of the gas feed is to inject Xenon gas into the cathode tube. This Xenon is neutral, meaning it doesn’t react to electric or magnetic fields until the Xenon atom collides and gains electrons, becoming a negatively charged particle. This process is called ionization [3]. Since Xenon becomes a negatively charged particle in this process, it can be attracted by positive voltage or magnetic field.\";\r\n\r\nexport const plasmaTitleText = \"Plasma Forms inside the Cathode Tube\"\r\nexport const plasmaText = \"The xenon gas injected near the insert is ionized by the emitted electrons to form an extremely hot plasma containing ions and more electrons.\";\r\n\r\nexport const keeperTitleText = \"The Keeper Electrode\"\r\nexport const keeperText = \"A positive voltage is placed on the keeper electrode, which pulls the electrons out of the orifice at the end of the cathode where they can then be used by the Hall thruster [2]. \";\r\n\r\nexport const ejectTitleText = \"Ejecting Plasma via the Keeper Electrode\"\r\nexport const ejectText = \"The plasma is pushed out of the cathode tube. This hot plasma of ions and electrons neutralizes ions as they are ejected from the Hall thruster and many of the electrons are pulled into the Hall thruster and used to ionize its propellant. \";\r\n\r\nexport const recapTitleText = \"A Quick Recap\"\r\nexport const recapText = \"First, a heater heats the cathode insert until it begins to emit electrons. Next, gas is injected near the insert and is ionized by the emitted electrons to form a plasma of ions and even more electrons. Lastly, a positive voltage is placed on the keeper electrode, pulling the electrons particles out of the end of the cathode where they can then be used by the Hall thruster. The hollow cathode is a critical component of the Hall thruster as it provides electrons needed to ionize its propellant and also neutralizes the ionized propellant as it leaves the thruster such that it doesn’t negatively affect the spacecraft. \";\r\n\r\nexport const linksTitleText = \"Learn about Psyche!\"\r\nexport const linksText = \"Sample text for the links page\";\r\nexport const link1url = \"https://psyche.asu.edu/\";\r\nexport const link2url = \"https://psyche.asu.edu/\";\r\nexport const link3url = \"https://psyche.asu.edu/\";\r\n\r\nexport const heatKeeperErrorText = \" Heat Keeper Error Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum\";\r\nexport const gasKeeperErrorText = \" Gas Keeper Error Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum\";\r\nexport const hallThusterOffText = \"                        The hollow cathode is a component of the Hall thruster. Its key role is to emit electronic\\n\" +\r\n    \"                        plasma to pull the positive plasma inside the cabin of the Hall thruster, known as the internal\\n\" +\r\n    \"                        plasma. Another role of the hollow cathode, which is not least significant, is to neutralize the\\n\" +\r\n    \"                        rocket. Without the hollow cathode, when Hall thruster emits plasma, the Hall thruster is\\n\" +\r\n    \"                        negatively charging the entire rocket. This phenomenon can cause spacecraft erosion and reduce\\n\" +\r\n    \"                        the thrust force.\"","\r\n/// CONSTANTS ///\r\n\r\nimport {\r\n    right_of_cathode_constant,\r\n    left_of_cathode_constant,\r\n    bottom_of_cathode_constant,\r\n    top_of_cathode_constant,\r\n    particle_right_bounding_box\r\n} from \"./Galactic\";\r\n\r\n// Pre-load images //\r\nconst electronImage = new Image();\r\nelectronImage.src = \"/hollow-cathode-visualization/images/electron.png\";\r\nconst xenonImage = new Image();\r\nxenonImage.src = \"/hollow-cathode-visualization/images/xenon.png\";\r\nconst ionizedXenonImage = new Image();\r\nionizedXenonImage.src = \"/hollow-cathode-visualization/images/ionized_xenon.png\";\r\n\r\n// Misc //\r\nconst ELECTRON_RADIUS = 6;\r\nconst XENON_RADIUS = 10;\r\nconst TIMING_INTERVAL = 3/60;\r\nconst IONIZATION_AGE_THRESHOLD = 1500; // particle.halfLife must be < IONIZATION_AGE_THRESHOLD to ionize\r\nconst DEFAULT_HALFLIFE = 2000; // how many animation frames a particle lives for\r\n\r\n\r\nconst collision_elasticity = 0.4; // 1 == fully elastic, 0 == no bounce\r\n// warning: collision_elasticity doesn't apply to diagonal (y=mx+b) collisions since we don't have a need for that atm\r\n// charges //\r\nconst keeper_electric_field_kq = -40; // the constant for k*q in the kqq/r equation (force due to an electric field) due to the keeper electrode\r\nconst thruster_electric_field_kq = -100; // the constant for k*q in the kqq/r equation (force due to an electric field) due to the hall thruster\r\nconst ELECTRON_CHARGE = -0.5;\r\nconst XENON_CHARGE = 0;\r\nconst IONIZED_CHARGE = 0.8;\r\n\r\n// possible particle types //\r\nconst TYPE_ELECTRON = 'electron';\r\nconst TYPE_XENON = 'xenon';\r\nconst TYPE_IONIZEDXENON = 'ionized xenon';\r\nconst TYPE_NONE = 'ionized xenon';\r\n\r\n// speed modifiers/ range definitions //\r\nconst particle_maxv_x = 20; // original: 30, 2nd iteration: 30\r\nconst particle_minv_x = -20; // original: -30, 2nd iteration: -0\r\nconst particle_maxv_y = 20; // original: 30, 2nd iteration: 30\r\nconst particle_minv_y = -20; // original: -30, 2nd iteration: -30\r\nconst particle_speed_modifier = 0.025; //original: 0.025\r\n//////\r\n\r\n// NON-CONSTANTS //\r\n// var xenon_particles_array = []; // array of all existing xenon particles\r\n// var electron_particles_array = []; // array of all existing electron particles\r\nvar particles_array = []; // array of all existing electron particles\r\nvar ejectFlag = false;\r\nvar ionizeFlag = false;\r\n////\r\n\r\n\r\nclass ProtoParticle {\r\n    ctx; // ctx element/layer the particle is drawn on, draw on this one\r\n    canvas; // canvas element/layer the particle is drawn on, use this to look at the properties of the canvas, don't draw on it\r\n    x; // int px, x position of center of particle\r\n    y; // int px, y position of center of particle\r\n    vx; // int px, x velocity\r\n    vy; // int px, y velocity\r\n    ax; // int px/tick^2, x acceleration\r\n    ay; // int px/tick^2, y acceleration\r\n    radius; // int px, radius of particle\r\n    color; // color string or hex string, color of particle\r\n    anime_key; // animation frame reference used to cancel this particle's animation, see this.startAnimation(), defaults to -1\r\n    animate; // animation function and logic (pathing, boundaries, physics, etc.)\r\n    interval; // essentially the rate defining how many times a second accelerations and forces are applied (delta time)\r\n    accelerating = true; // toggle application of accelerations (for testing purposes)\r\n    particle_type; // type of particle, should be either: TYPE_ELECTRON, TYPE_XENON, TYPE_IONIZEDXENON, or TYPE_NONE (constants) (see constants)\r\n    max_y; // bounding box (low barrier)\r\n    min_y; // bounding box (high barrier)\r\n    max_x; // bounding box (right barrier)\r\n    min_x; // bounding box (left barrier)\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Constructor for particle object with 7 optional parameters and 1 mandatory parameter (layer)\r\n     *\r\n     * @param layer ctx element/layer to draw the particle on\r\n     * @param x int px, initial x position of center of particle, if set to -999: defaults to a random value between 26 and 800\r\n     * @param y int px, initial y position of center of particle, if set to -999: defaults to a random value between 26 and 400\r\n     * @param vx int px/tick, initial x velocity, if set to -999: defaults to a random integer between 0 and 5\r\n     * @param vy int px/tick, initial y velocity, if set to -999: defaults to a random integer between 0 and 5\r\n     * @param ax int px/tick^2, initial x acceleration, *used to* default to a random integer between 1 and 5  (Math.floor(Math.random() * (5 - 1) + 1))\r\n     * @param ay int px/tick^2, initial y acceleration, *used to* default to a random integer between 1 and 5  (Math.floor(Math.random() * (5 - 1) + 1))\r\n     * @param particle_type type of particle, should be either: TYPE_ELECTRON, TYPE_XENON, TYPE_IONIZEDXENON, or TYPE_NONE (constants) (see constants)\r\n     * @param max_y bounding box (low barrier)\r\n     * @param min_y bounding box (high barrier)\r\n     * @param max_x bounding box (right barrier)\r\n     * @param min_x bounding box (left barrier)\r\n     */\r\n    constructor(\r\n        layer,\r\n        x,\r\n        y,\r\n        vx,\r\n        vy,\r\n        ax,\r\n        ay,\r\n        particle_type,\r\n        max_y,\r\n        min_y,\r\n        max_x,\r\n        min_x\r\n    ) {\r\n        this.id = Math.ceil(Math.random() * 100); // used to find particle in particles array\r\n        this.ctx = layer;\r\n        this.canvas = layer.canvas;\r\n        this.particle_type = particle_type;\r\n\r\n        // Classification //\r\n        // add self to particles array\r\n        if(particle_type === TYPE_ELECTRON){\r\n            this.image = electronImage;\r\n            this.charge = ELECTRON_CHARGE;\r\n            this.radius = ELECTRON_RADIUS;\r\n            // electron_particles_array.push(this);\r\n\r\n        } else if(particle_type === TYPE_XENON){\r\n            this.image = xenonImage;\r\n            this.charge = XENON_CHARGE; // neutral\r\n            this.radius = XENON_RADIUS;\r\n            // xenon_particles_array.push(this);\r\n\r\n        } else if(particle_type === TYPE_IONIZEDXENON){\r\n            this.image = xenonImage;\r\n            this.charge = IONIZED_CHARGE;\r\n            this.radius = XENON_RADIUS;\r\n            // xenon_particles_array.push(this);\r\n\r\n        } else {\r\n            this.image = TYPE_NONE;\r\n            this.charge = IONIZED_CHARGE; // positive\r\n            this.radius = 15;\r\n            console.error(\"invalid particle_type: \", this.particle_type);\r\n        }\r\n\r\n        // Location //\r\n        // x: randomize if default value\r\n        if(x === -999){\r\n            // default to a random x position between min and max\r\n            let max = layer.canvas.width;\r\n            let min = this.radius + 1;\r\n            this.x = Math.floor(Math.random() * (max - min) + min); //Math.floor is 10% slower than Math.ceil (consider later)\r\n        } else {\r\n            this.x = x;\r\n        }\r\n\r\n        // y: randomize if default value\r\n        if(y === -999){\r\n            // default to a random x position between min and max\r\n            let max = layer.canvas.height;\r\n            let min = this.radius + 1;\r\n            this.y = Math.floor(Math.random() * (max - min) + min); //Math.floor is 10% slower than Math.ceil (consider later)\r\n        } else {\r\n            this.y = y;\r\n        }\r\n\r\n        // x error checking\r\n        if(this.x > layer.canvas.width || this.x < 0){\r\n            console.error(\"invalid initial x coordinate of particle: \", this.x);\r\n        }\r\n        // y error checking\r\n        if(this.y > layer.canvas.height || this.y < 0){\r\n            console.error(\"invalid initial y coordinate of particle: \", this.y);\r\n        }\r\n\r\n\r\n        // Velocity //\r\n        // vx: randomize if default value\r\n        if(vx === -999){\r\n            this.vx = (Math.floor(Math.random() * (particle_maxv_x - particle_minv_x) + particle_minv_x) * particle_speed_modifier); //Math.floor is 10% slower than Math.ceil (consider later)\r\n        } else {\r\n            this.vx = vx;\r\n        }\r\n\r\n        // vy: randomize if default value\r\n        if(vy === -999){\r\n            this.vy = (Math.floor(Math.random() * (particle_maxv_y - particle_minv_y) + particle_minv_y) * particle_speed_modifier); //Math.floor is 10% slower than Math.ceil (consider later)\r\n        } else {\r\n            this.vy = vy;\r\n        }\r\n\r\n        // Acceleration //\r\n        this.ax = ax;\r\n        this.ay = ay;\r\n\r\n        // this.color = color; // depreciated now that we have images from the artist\r\n        this.anime_key = -1; // key/reference to current animation frame, given by browser, defaults to -1\r\n        this.interval = TIMING_INTERVAL; // timing\r\n\r\n        // Bounding Box //\r\n        this.max_y = max_y; // operates off of distance from axis\r\n        this.min_y = min_y;\r\n        this.max_x = max_x;\r\n        this.min_x = min_x;\r\n\r\n        this.halfLife = DEFAULT_HALFLIFE;\r\n\r\n        particles_array.push(this);\r\n    }\r\n\r\n    /**\r\n     * Definition of how a ProtoParticle should look\r\n     */\r\n    draw(){\r\n        // colored circle\r\n        // this.ctx.beginPath();\r\n        // this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);\r\n        // this.ctx.closePath();\r\n        // this.ctx.fillStyle = this.color;\r\n        // this.ctx.fill();\r\n\r\n        // proper image\r\n        this.ctx.drawImage(this.image, this.x, this.y, this.radius * 2, this.radius * 2)\r\n    }\r\n\r\n    /**\r\n     * Initialize/start this particle's rendering and animation.\r\n     */\r\n    startAnimation(){\r\n        // this.anime_key = window.requestAnimationFrame(animate);\r\n        let temp_this = this; // assign \"this\" (this particle) to a temporary variable so that it is defined when requestAnimationFrame calls it\r\n        this.anime_key = window.requestAnimationFrame(function() { temp_this.animate(temp_this) });\r\n    }\r\n\r\n    /**\r\n     * !logic error warning! you may be thinking of clearAnimation()\r\n     * Stop this particle's rendering and animation *WITHOUT erasing the last frame of it.*\r\n     */\r\n    stopAnimation(){\r\n        window.cancelAnimationFrame(this.anime_key);\r\n    }\r\n\r\n    /**\r\n     * !logic error warning! you may be thinking of stopAnimation()\r\n     * Stop this particle's rendering and animation *AND erase the last frame of it.*\r\n     */\r\n    clearAnimation(){\r\n        window.cancelAnimationFrame(this.anime_key);\r\n        this.clearPath();\r\n    }\r\n\r\n    /**\r\n     * Function for clearing the previous frame/particle before drawing the new/updated frame.\r\n     */\r\n    clearPath(){\r\n        // method 0 - clear path using grey particle, no visible edges on overlap but leaves a trail\r\n        // clear circle\r\n        // this.ctx.beginPath();\r\n        // this.ctx.arc(this.x, this.y, this.radius+1, 0, Math.PI * 2, true);\r\n        // this.ctx.closePath();\r\n        // this.ctx.fillStyle = 'grey';\r\n        // this.ctx.fill();\r\n\r\n        // method 1 - properly clear area as rectangle, visible edges on overlap\r\n        // clear circle\r\n        // this.ctx.clearRect(this.x - this.radius - 1, this.y - this.radius - 1, this.radius * 2 + 2, this.radius * 2 + 2);\r\n\r\n        // clear image\r\n        this.ctx.clearRect(this.x, this.y, this.radius * 2, this.radius * 2);\r\n    }\r\n\r\n    /**\r\n     * Sets the animation function\r\n     * @param animate (function)\r\n     */\r\n    setAnimation(animate){\r\n        this.animate = animate;\r\n    }\r\n\r\n    /**\r\n     * Input should be 'electron', 'xenon', 'ionized xenon', or 'none' (TYPE_ELECTRON, TYPE_XENON, TYPE_IONIZEDXENON, or TYPE_NONE\r\n     * @param type (string) string representing the particle type, is mapped to appropriate particle image\r\n     */\r\n    setImage(type){\r\n        if(type === TYPE_ELECTRON){\r\n            this.particle_type = TYPE_ELECTRON;\r\n            this.image = electronImage;\r\n        } else if(type === TYPE_XENON){\r\n            this.particle_type = TYPE_XENON;\r\n            this.image = xenonImage;\r\n        } else if(type === TYPE_IONIZEDXENON){\r\n            this.particle_type = TYPE_IONIZEDXENON;\r\n            this.image = ionizedXenonImage;\r\n        } else if(type === 'none'){\r\n            this.particle_type = 'none';\r\n            console.error('ProtoParticle:: setImage: Invalid type provided: ', type);\r\n        } else {\r\n            this.particle_type = 'none';\r\n            console.error('ProtoParticle:: setImage: Invalid type provided: ', type);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * getCathTube___() - unfortunately duped form painter.js\r\n     * Returns the location of the ___ of the cathode tube on the _ axis, don't forget to account for particle width\r\n     * Used for the electron and xenon boundary box positions* (talk to Jack he isn't done here - 3/31/22)\r\n     *\r\n     * @returns {number} (int) single coordinate\r\n     */\r\n    getCathTubeBot(){\r\n        return this.canvas.height * bottom_of_cathode_constant;\r\n    }\r\n    getCathTubeTop(){\r\n        return this.canvas.height * top_of_cathode_constant;\r\n    }\r\n    getCathTubeRightX(){\r\n        return this.canvas.width * right_of_cathode_constant;\r\n    }\r\n    getCathTubeLeftX(){\r\n        return this.canvas.width * left_of_cathode_constant;\r\n    }\r\n\r\n    /**\r\n     * getParticleTube___() - unfortunately duped form painter.js\r\n     * Returns the location of the particle boundary for the cathode tube on the _ axis, don't forget to account for particle width\r\n     * Used for the electron and xenon boundary box positions* (talk to Jack he isn't done here - 3/31/22)\r\n     *\r\n     * @returns {number} (int) single coordinate\r\n     */\r\n    getParticleTubeRightX(){\r\n        return this.canvas.width * particle_right_bounding_box;\r\n    }\r\n\r\n    /**\r\n     * Ionize yourself\r\n     */\r\n    ionize(){\r\n        if(this.particle_type === TYPE_XENON){\r\n            this.particle_type = TYPE_IONIZEDXENON; // todo - particle: make sure everything updates types properly like this\r\n            this.charge = IONIZED_CHARGE;\r\n            this.setImage(TYPE_IONIZEDXENON);\r\n\r\n            ProtoParticle.generateElectron(this.ctx, this.x, this.y, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX());\r\n            ProtoParticle.generateElectron(this.ctx, this.x, this.y, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX());\r\n        }\r\n        else if(this.particle_type === TYPE_ELECTRON){\r\n            // clone self?\r\n            // electron_particles_array.push(this); // not quite how you'd do it\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Eject yourself\r\n     * Switches animation and changes bounding box\r\n     */\r\n    eject(){\r\n        // // if is xenon\r\n        // if(this.particle_type === TYPE_XENON || this.particle_type === TYPE_IONIZEDXENON){\r\n        //     this.setAnimation(ProtoParticle.xenonAnimation)\r\n        //     // this.max_x = this.canvas.width * 4; //todo: revist eject\r\n        // }\r\n        // // if is electron\r\n        // else if(this.particle_type === TYPE_ELECTRON){\r\n        //     this.max_x = this.canvas.width * 2; //todo: revist eject\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Have a particle delete itself from existence\r\n     */\r\n    delete_self(){\r\n        this.clearAnimation()\r\n        // console.log(\"deleting self.\");//:debug\r\n        // console.log(\"array:\")\r\n        // console.log(particles_array);\r\n        // console.log(\"find:\")\r\n        // console.log(particles_array.findIndex((element) => element.id === this.id));\r\n        // console.log(\"find and delete:\")\r\n        // console.log(particles_array.indexOf(this) > -1 ? particles_array.splice(particles_array.indexOf(this), 1) : false)\r\n        // console.log(\"result:\")\r\n        // console.log(particles_array);\r\n        // console.log(\"---------\")\r\n    }\r\n\r\n    /**\r\n     * Ionizes the particle at xenon_particles_array[key]\r\n     * Essentially a wrapper for the call, this is needed since using setTimeout makes scoping issues\r\n     *\r\n     * @param index index in xenon_particles_array[]\r\n     */\r\n    static draw_ionize(index){\r\n        try {\r\n            // xenon_particles_array[index].ionize();\r\n            particles_array[index].ionize();\r\n        } catch (error) {\r\n            // Expected error: TypeError\r\n            // This happens when a particle is deleted before it can ionize, this is normal (in presMode)\r\n        }\r\n\r\n    }\r\n\r\n    static draw_eject(index){\r\n        // depreciated by implementation of eject flag\r\n\r\n\r\n        // try {\r\n        //     // xenon_particles_array[index].eject();\r\n        //     // electron_particles_array[index].eject();\r\n        //     particles_array[index].eject();\r\n        // } catch (error) {\r\n        //     // Expected error: TypeError\r\n        //     // This happens when a particle is deleted before it can ionize, this is normal (in presMode)\r\n        // }\r\n\r\n    }\r\n\r\n    static ionizeParticles(){\r\n        // console.log(\"xenon_particles_array.length: \", xenon_particles_array.length)\r\n        this.setIonizeFlag(true)\r\n    }\r\n\r\n    static ejectParticles(){\r\n        this.setEjectFlag(true)\r\n    }\r\n\r\n\r\n    static xenonAnimation(particle){\r\n        particle.clearPath();\r\n\r\n        // // set angled boundary box using a slope and a y-intercept\r\n        // let m = 1; // slope\r\n        // let b = 300; // y intercept\r\n\r\n        if(ionizeFlag && particle.particle_type === TYPE_XENON && particle.halfLife < IONIZATION_AGE_THRESHOLD){\r\n            particle.ionize();\r\n        }\r\n\r\n        // check y boundary using normal bounding box\r\n        if (particle.y + particle.vy > particle.max_y - particle.radius * 2 || particle.y + particle.vy < particle.min_y ) {\r\n            particle.vy = -particle.vy * collision_elasticity;\r\n        }\r\n        // check x boundary using normal bounding box\r\n        else if (particle.x + particle.vx > particle.max_x - particle.radius * 2 || particle.x + particle.vx < particle.min_x) {\r\n            particle.vx = -particle.vx * collision_elasticity;\r\n        }\r\n        // // check boundary using slope intercept form (doesn't account for square objects yet) (for squares, pov = top left instead of center)\r\n        // else if((particle.y + particle.vy) >= m * (particle.x + particle.vx) + b){\r\n        //\r\n        //     // // do a proper angled bounce\r\n        //     // let swap = particle.vx;\r\n        //     // particle.vx = particle.vy;\r\n        //     // particle.vy = swap;\r\n        // }\r\n        else {\r\n            // acceleration is only applied here to prevent logic errors accelerating particles through collisions\r\n            // v_f = v_o + a*t (kinematic) (where t is the interval or intensity) (good values are like 1/60 or 5/60)\r\n\r\n            // todo particle 8: potential divide by zero error\r\n            particle.ax = keeper_electric_field_kq/particle.x * particle.charge; //keeper force (kqq/r in essence)\r\n\r\n            if(particle.x > particle.getCathTubeRightX()){\r\n                // stop it from returning\r\n                particle.min_x = particle.getCathTubeRightX(); // todo particle 1\r\n                particle.max_x = particle.canvas.width;\r\n                particle.min_y = 0;\r\n                particle.max_y = particle.canvas.height;\r\n            } else {\r\n                if(ejectFlag){\r\n                    // y acceleration\r\n                    particle.vy = particle.vy + (particle.ay * particle.interval);\r\n\r\n                    // x acceleration\r\n                    particle.vx = particle.vx + (particle.ax * particle.interval);\r\n                }\r\n            }\r\n        }\r\n\r\n        // check if particle hit back of the tube\r\n        if (particle.particle_type === TYPE_IONIZEDXENON && (particle.x < particle.getCathTubeLeftX() + particle.radius)){\r\n            particle.halfLife = 0; // despawn the particle\r\n        }\r\n\r\n        //move the particle at the given velocity\r\n        particle.x += particle.vx;\r\n        particle.y += particle.vy;\r\n\r\n        //draw the particle\r\n        particle.draw();\r\n\r\n        // check if on screen\r\n        if(\r\n            particle.x > particle.canvas.width ||\r\n            particle.x < 0 ||\r\n            particle.y > particle.canvas.height ||\r\n            particle.y > particle.canvas.height\r\n        ){\r\n            particle.halfLife = 0; //will despawn at end of this animation\r\n        }\r\n\r\n        // drain halfLife\r\n        particle.halfLife = particle.halfLife - 1\r\n\r\n        if(particle.halfLife > 0){\r\n            particle.anime_key = window.requestAnimationFrame(function() {particle.animate(particle)});\r\n        } else {\r\n            particle.delete_self()\r\n        }\r\n    }\r\n\r\n    static electronAnimation(particle){\r\n        particle.clearPath();\r\n\r\n        // set angled boundary box using a slope and a y-intercept\r\n        let m = 1; // slope\r\n        let b = 300; // y intercept\r\n\r\n        // check y boundary using normal bounding box\r\n        if (particle.y + particle.vy > particle.max_y - particle.radius * 2 || particle.y + particle.vy < particle.min_y ) {\r\n            particle.vy = -particle.vy * collision_elasticity;\r\n        }\r\n        // check x boundary using normal bounding box\r\n        else if (particle.x + particle.vx > particle.max_x - particle.radius * 2 || particle.x + particle.vx < particle.min_x) {\r\n            particle.vx = -particle.vx * collision_elasticity;\r\n        }\r\n        // // check boundary using slope intercept form (doesn't account for square objects yet) (for squares, pov = top left instead of center)\r\n        // else if((particle.y + particle.vy) >= m * (particle.x + particle.vx) + b){\r\n        //\r\n        //     // // do a proper angled bounce\r\n        //     // let swap = particle.vx;\r\n        //     // particle.vx = particle.vy;\r\n        //     // particle.vy = swap;\r\n        // }\r\n        else {\r\n            // acceleration is only applied here to prevent logic errors accelerating particles through collisions\r\n            // v_f = v_o + a*t (kinematic) (where t is the interval or intensity) (good values are like 1/60 or 5/60)\r\n\r\n            // todo - potential divide by zero error\r\n            particle.ax = keeper_electric_field_kq/particle.x * particle.charge; //keeper force (kqq/r in essence)\r\n\r\n            if(particle.x > particle.getCathTubeRightX() + particle.radius * 2){\r\n                // stop it from returning\r\n                particle.min_x = particle.getCathTubeRightX();\r\n                particle.max_x = particle.canvas.width + particle.radius * 4;\r\n                particle.min_y = 0;\r\n                particle.max_y = particle.canvas.height + particle.radius * 4;\r\n\r\n                particle.ay = thruster_electric_field_kq/particle.y * particle.charge; //keeper force (kqq/r in essence) // hall thruster E field\r\n            }\r\n\r\n            if(ejectFlag){\r\n                // y acceleration\r\n                particle.vy = particle.vy + (particle.ay * particle.interval);\r\n\r\n                // x acceleration\r\n                particle.vx = particle.vx + (particle.ax * particle.interval);\r\n            }\r\n\r\n        }\r\n\r\n        //move the particle at the given velocity\r\n        particle.x += particle.vx;\r\n        particle.y += particle.vy;\r\n\r\n        //draw the particle\r\n        particle.draw();\r\n\r\n        // check if on screen\r\n        if(\r\n            particle.x > particle.canvas.width ||\r\n            particle.x < 0 ||\r\n            particle.y > particle.canvas.height ||\r\n            particle.y > particle.canvas.height\r\n        ){\r\n            particle.halfLife = 0; //will despawn at end of this animation\r\n        }\r\n\r\n        // drain halfLife\r\n        particle.halfLife = particle.halfLife - 1;\r\n\r\n        if(particle.halfLife > 0){\r\n            particle.anime_key = window.requestAnimationFrame(function() {particle.animate(particle)});\r\n        } else {\r\n            particle.delete_self()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generates a new xenon on a given layer at a given position\r\n     * @param ctx layer\r\n     * @param x initial x position\r\n     * @param y initial y position\r\n     * @param mmax_y bounding box\r\n     * @param mmin_y bounding box\r\n     * @param mmax_x bounding box\r\n     * @param mmin_x bounding box\r\n     */\r\n    static generateXenon(ctx, x, y, mmax_y, mmin_y, mmax_x, mmin_x){\r\n        // console.log(\"generating electron\");//:debug\r\n        // Drawing some particles //\r\n        let xenon0 = new ProtoParticle(ctx, x, y, -999, -999, 0, 0, TYPE_XENON, mmax_y, mmin_y, mmax_x, mmin_x); // randomized\r\n        xenon0.setAnimation(ProtoParticle.xenonAnimation);\r\n        xenon0.startAnimation();\r\n    }// todo particle 6\r\n\r\n    static killAllParticles(){\r\n        // let limiti = xenon_particles_array.length;\r\n        // for (let i = 0; i < limiti; i++) {\r\n        //     (xenon_particles_array.pop()).clearAnimation();\r\n        // }\r\n\r\n        // console.log(\"killing all particles\");//:debug\r\n\r\n        let limiti = particles_array.length;\r\n        for (let i = 0; i < limiti; i++) {\r\n            (particles_array.pop()).clearAnimation();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Generates a new xenon on a given layer at a given position\r\n     * @param ctx layer\r\n     * @param x initial x position\r\n     * @param y initial y position\r\n     * @param mmax_y bounding box\r\n     * @param mmin_y bounding box\r\n     * @param mmax_x bounding box\r\n     * @param mmin_x bounding box\r\n     */\r\n    static generateElectron(ctx, x, y, mmax_y, mmin_y, mmax_x, mmin_x){\r\n        // console.log(\"generating electron\");//:debug\r\n        // Drawing some particles //\r\n        let electron0 = new ProtoParticle(ctx, x, y, -999, -999, 0, 0, TYPE_ELECTRON, mmax_y, mmin_y, mmax_x, mmin_x); // randomized\r\n        electron0.setAnimation(ProtoParticle.electronAnimation);\r\n        electron0.startAnimation();\r\n    }\r\n\r\n    static killAllElectron(){\r\n        // let limiti = electron_particles_array.length;\r\n        // for (let i = 0; i < limiti; i++) {\r\n        //     (electron_particles_array.pop()).clearAnimation();\r\n        // }\r\n\r\n        // let limiti = particles_array.length;\r\n        // for (let i = 0; i < limiti; i++) {\r\n        //     (particles_array.pop()).clearAnimation();\r\n        // }\r\n    }\r\n\r\n    // todo particle 3\r\n    static setElectronBoundingBox(mmax_y, mmin_y, mmax_x, mmin_x){\r\n        // needs implemented with particles_array now that I am thinking about removing electron_particles_array\r\n        // // for each particle in electron array, update these parameters\r\n        // for (const index in electron_particles_array) {\r\n        //     let particle = electron_particles_array[index]\r\n        //     particle.max_y = mmax_y;\r\n        //     particle.min_y = mmin_y;\r\n        //     particle.max_x = mmax_x;\r\n        //     particle.min_x = mmin_x;\r\n        // }\r\n    }\r\n\r\n    static setXenonBoundingBox(mmax_y, mmin_y, mmax_x, mmin_x){\r\n        // needs implemented\r\n        // for each xenon particle in particle array, update these parameters\r\n    }\r\n\r\n    /**\r\n     * Setter for eject flag boolean\r\n     * @param value (bool) new value\r\n     */\r\n    static setEjectFlag(value){\r\n        ejectFlag = value;\r\n    }\r\n\r\n    /**\r\n     * Setter for ionize flag boolean\r\n     * @param value (bool) new value\r\n     */\r\n    static setIonizeFlag(value){\r\n        ionizeFlag = value;\r\n    }\r\n}\r\n\r\n\r\nexport default ProtoParticle;\r\n","import ProtoParticle from \"./ProtoParticle\";\r\n\r\n/**\r\n * Mapping layers via constants\r\n * These should always be used to reference layers when used as parameters to a function or when interacting with this.state.\r\n * This allows us to easily add and remove layers.\r\n */\r\nimport {\r\n    base,\r\n    canvas_height,\r\n    canvas_width,\r\n    eject,\r\n    gas,\r\n    hallThrusterOff,\r\n    hallThrusterOn,\r\n    heat,\r\n    keeper,\r\n    plasma,\r\n    right_of_cathode_constant,\r\n    left_of_cathode_constant,\r\n    top_of_cathode_constant,\r\n    bottom_of_cathode_constant,\r\n    particle_right_bounding_box\r\n} from \"./Galactic\";\r\n\r\n\r\n/// \"CONSTANTS\" ///\r\nconst ELECTRON_SPAWN_RATE = 5; // 2 particle(s) every [ELECTRON_SPAWN_RATE] seconds\r\nconst XENON_SPAWN_RATE = 2; // 1 particle(s) every [XENON_SPAWN_RATE] seconds\r\nconst ELECTRON_RADIUS = 6;\r\nconst XENON_RADIUS = 10;\r\n///\r\n\r\nclass Painter{\r\n    constructor(layers) {\r\n        this.layers = layers;\r\n\r\n        // pre-load images\r\n        this.psyche_spacecraft = new Image();\r\n        this.psyche_spacecraft.src = \"/hollow-cathode-visualization/images/psyche_spacecraft.png\";\r\n        this.thruster_on = new Image();\r\n        this.thruster_on.src = \"/hollow-cathode-visualization/images/plasma_sample.jpg\";\r\n        this.thruster_off = new Image();\r\n        this.thruster_off.src = \"/hollow-cathode-visualization/images/HallThrusterMockup.png\";\r\n        this.base_cathode = new Image();\r\n        this.base_cathode.src = \"/hollow-cathode-visualization/images/cross_section_3.png\";\r\n\r\n        this.draw_csv_Base_Drawing = this.draw_csv_Base_Drawing.bind(this);\r\n\r\n        this.getCanvasHeight = this.getCanvasHeight.bind(this);\r\n        this.getCanvasHeight = this.getCanvasHeight.bind(this);\r\n\r\n        // mounding box for cathode tube\r\n        // (measures are *from* the axis)\r\n        this.min_y = this.getCathTubeTop();\r\n        this.max_y = this.getCathTubeBot();\r\n        this.min_x = this.getCathTubeLeftX();\r\n        this.max_x = this.getCathTubeRightX();\r\n\r\n        this.XenonGeneratorKey = -1;\r\n        this.ElectronGeneratorKey_Top = -1; // top of insert\r\n        this.ElectronGeneratorKey_Bot = -1; // bottom of insert\r\n    }\r\n\r\n    /**\r\n     * Retrieves a layer by index (constant number)\r\n     * @param layer_number the number for the layer needed\r\n     * @returns {*} ctx reference/object for the layer\r\n     */\r\n    getLayer(layer_number){\r\n        return this.layers[layer_number];\r\n    }\r\n\r\n    getCanvasHeight(){\r\n        return this.getLayer(base).canvas.height;\r\n    }\r\n    getCanvasWidth(){\r\n        return this.getLayer(base).canvas.width;\r\n    }\r\n\r\n    /**\r\n     * clearCanvas(layer number)\r\n     * Clears contents of a given canvas layer\r\n     *\r\n     * @param layer_number layer number for layer to clear\r\n     */\r\n    clearCanvas(layer_number){\r\n        this.getLayer(layer_number).clearRect(0, 0, this.getCanvasWidth(), this.getCanvasHeight());\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * getInsert___()\r\n     * Returns the location of the ___ of the insert on the _ axis, don't forget to account for particle width\r\n     * Used for the electron and xenon spawn positions\r\n     *\r\n     * @returns {number} (int) single coordinate\r\n     */\r\n    getInsertTopX(){\r\n        return (this.getCathTubeLeftX() + this.getCathTubeRightX())/2; // in short: ( tube_left + tube_right ) / 2\r\n    }\r\n    getInsertTopY(){\r\n        return this.getCanvasHeight() * top_of_cathode_constant;\r\n    }\r\n    getInsertBotY(){\r\n        return this.getCanvasHeight() * bottom_of_cathode_constant;\r\n    }\r\n\r\n    /**\r\n     * getCathTube___()\r\n     * Returns the location of the ___ of the cathode tube on the _ axis, don't forget to account for particle width\r\n     * Used for the electron and xenon boundary box positions* (talk to Jack he isn't done here - 3/31/22)\r\n     *\r\n     * @returns {number} (int) single coordinate\r\n     */\r\n    getCathTubeBot(){\r\n        return this.getCanvasHeight() * bottom_of_cathode_constant;\r\n    }\r\n    getCathTubeTop(){\r\n        return this.getCanvasHeight() * top_of_cathode_constant;\r\n    }\r\n    getCathTubeRightX(){\r\n        return this.getCanvasWidth() * right_of_cathode_constant;\r\n    }\r\n    getCathTubeLeftX(){\r\n        return this.getCanvasWidth() * left_of_cathode_constant;\r\n    }\r\n\r\n    getRandomInt(min, max) {\r\n        min = Math.ceil(this.getCathTubeLeftX()) + ELECTRON_RADIUS;\r\n        max = Math.floor(this.getCathTubeRightX()) - ELECTRON_RADIUS;\r\n        return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n    }\r\n\r\n    /**\r\n     * getParticleTube___()\r\n     * Returns the location of the particle boundary for the cathode tube on the _ axis, don't forget to account for particle width\r\n     * Used for the electron and xenon boundary box positions* (talk to Jack he isn't done here - 3/31/22)\r\n     *\r\n     * @returns {number} (int) single coordinate\r\n     */\r\n    getParticleTubeRightX(){\r\n        return this.getCanvasWidth() * particle_right_bounding_box;\r\n    }\r\n\r\n\r\n\r\n    /** Learning Mode */\r\n    /**\r\n     * Particle effect overlay to make the thruster and cathode appear to be on/operating\r\n     */\r\n    draw_Hall_Thruster_Off(){\r\n        this.clearCanvas(hallThrusterOff);\r\n        const ctx = this.getLayer(hallThrusterOff);\r\n    }\r\n\r\n    /**\r\n     * Particle effect overlay to make the thruster and cathode appear to be on/operating\r\n     */\r\n    draw_Hall_Thruster_On(){\r\n        this.clearCanvas(hallThrusterOn);\r\n        const ctx = this.getLayer(hallThrusterOn);\r\n    }\r\n\r\n    /** Learning Mode and Presentation Mode */\r\n    /**\r\n     * draw_csv_Base_Drawing()\r\n     * Function to draw the base cathode visuals\r\n     */\r\n    draw_csv_Base_Drawing(){\r\n        // console.log(base ,\" draw_csv_Base_Drawing called\") //:debug\r\n        // console.log('base cathode info: '+this.base_cathode.complete+' '+this.base_cathode.naturalHeight); //:debug\r\n        this.clearCanvas(base);\r\n        const ctx = this.getLayer(base);\r\n        ctx.drawImage(this.base_cathode, 100, this.getCanvasHeight() * 0.1, this.getCanvasWidth() * .7, this.getCanvasHeight() * 0.75); // draw the cathode\r\n\r\n\r\n\r\n\r\n        // visualize cathode tube bounding box //:debug\r\n        ctx.strokeStyle = 'rgba(255,255,255,0.6)'; //:debug\r\n        ctx.lineWidth = 6; //:debug\r\n\r\n        // right //:debug\r\n        ctx.beginPath(); //:debug\r\n        ctx.moveTo(this.min_x, this.min_y); //:debug\r\n        ctx.lineTo(this.min_x, this.max_y); //:debug\r\n        ctx.stroke(); //:debug\r\n\r\n        ctx.strokeStyle = 'rgba(201,69,69,0.6)'; //:debug\r\n\r\n        // left //:debug\r\n        ctx.beginPath(); //:debug\r\n        ctx.moveTo(this.max_x, this.max_y); //:debug\r\n        ctx.lineTo(this.max_x, this.min_y); //:debug\r\n        ctx.stroke(); //:debug\r\n\r\n        ctx.strokeStyle = 'rgba(210,184,30,0.6)'; //:debug\r\n\r\n        // top //:debug\r\n        ctx.beginPath(); //:debug\r\n        ctx.moveTo(this.max_x, this.min_y); //:debug\r\n        ctx.lineTo(this.min_x, this.min_y); //:debug\r\n        ctx.stroke(); //:debug\r\n\r\n        ctx.strokeStyle = 'rgba(128,0,0,0.6)'; //:debug\r\n\r\n        // bottom //:debug\r\n        ctx.beginPath(); //:debug\r\n        ctx.moveTo(this.min_x, this.max_y); //:debug\r\n        ctx.lineTo(this.max_x, this.max_y); //:debug\r\n        ctx.stroke(); //:debug\r\n\r\n    }\r\n\r\n    /**\r\n     * draw_csv_Base_Drawing_guide()\r\n     * Draws the guide text and tooltips and such for the base drawing for learning mode\r\n     */\r\n    draw_csv_Base_Drawing_guide(){\r\n        // console.log(\"draw_csv_Base_Drawing_guide\");\r\n        // this.clearCanvas(base);\r\n        // const ctx = this.getLayer(base);\r\n\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * draw_csv_Heat_Insert()\r\n     * Defines what drawing \"heat insert\" looks like\r\n     * Function to draw the heat insert visuals (currently only draws an orange square)\r\n     */\r\n    draw_csv_Heat_Insert(){\r\n        // console.log(heat, \" draw_csv_Heat_Insert called\"); //:debug\r\n\r\n        this.clearCanvas(heat);\r\n        const ctx = this.getLayer(heat);\r\n\r\n        // Managing particles\r\n        // Turn on Electron Generator\r\n        this.startElectronGenerator(ELECTRON_SPAWN_RATE);\r\n    }\r\n\r\n    /**\r\n     * draw_csv_Heat_Insert_guide()\r\n     * Draws the guide text and tooltips and such for draw_csv_Heat_Insert for learning mode\r\n     */\r\n    draw_csv_Heat_Insert_guide(){\r\n        // console.log(heat, \" draw_csv_Heat_Insert_guide called\"); //:debug\r\n\r\n        // this.clearCanvas(heat);\r\n        // const ctx = this.getLayer(heat);\r\n    }\r\n\r\n    // draw_csv_Heat_Insert_Particle(){\r\n    //     const ctx = this.getLayer(heat);\r\n    //\r\n    //     // let electron = new ProtoParticle(ctx, ctx.canvas.width * .3, ctx.canvas.height *.6, -999, -999, 0, 0, 6, 'blue'); // randomized\r\n    //     let electron = new ProtoParticle(ctx, this.min_x + 12, (this.min_y + this.max_y) / 2, -999, -999, 0, 0, 6, 'blue', this.max_y, this.min_y, this.max_x, this.min_x); // randomized\r\n    //     electron.setAnimation(this.electronAnimation);\r\n    //     electron.startAnimation();\r\n    //\r\n    //     this.electron_particles.push(electron);\r\n    // }\r\n\r\n    /**\r\n     * draw_csv_gas_feed()\r\n     * Function to draw the gas feed visuals (currently only draws a yellow square)\r\n     */\r\n    draw_csv_gas_feed(){\r\n        // console.log(gas, \" draw_csv_gas_feed called\"); //:debug\r\n\r\n        // this.clearCanvas(gas);\r\n        const ctx = this.getLayer(gas);\r\n\r\n\r\n        // Jack - managing particles\r\n        // Turn on Xenon Generator\r\n        this.startXenonGenerator(XENON_SPAWN_RATE);\r\n\r\n        // ProtoParticle.generateXenon(ctx)\r\n        // this.draw_csv_gas_feed_particles();\r\n    }\r\n\r\n\r\n    /**\r\n     * Spawns xenon particles every [spawn_rate] seconds, simulates the gas feed.\r\n     * @author Jack\r\n     *\r\n     * @param spawn_rate time in SECONDS between each particle spawn.\r\n     */\r\n    startXenonGenerator(spawn_rate){\r\n        const ctx = this.getLayer(gas);\r\n\r\n        // 1 xenon per 3 seconds\r\n        if(this.XenonGeneratorKey === -1){\r\n            ProtoParticle.generateXenon(ctx, this.min_x + 20, (this.min_y + this.max_y) / 2, this.max_y, this.min_y, this.max_x, this.min_x - XENON_RADIUS); // generate an initial one to get it going right away\r\n            this.XenonGeneratorKey = setInterval(ProtoParticle.generateXenon, spawn_rate * 1000, ctx, this.min_x + 20, (this.min_y + this.max_y) / 2, this.max_y, this.min_y, this.max_x, this.min_x - XENON_RADIUS); // generate on a timer\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Restarts the xenon generator with the desired spawn rate, likely to slow it down\r\n     *\r\n     * @param new_spawn_rate time in seconds between each particle spawn\r\n     */\r\n    slowXenonGenerator(new_spawn_rate){\r\n        this.killXenonGenerator();\r\n        this.startXenonGenerator(new_spawn_rate);\r\n    }\r\n\r\n    /**\r\n     * Stops the generation of xenon immediately\r\n     */\r\n    killXenonGenerator(){\r\n        clearInterval(this.XenonGeneratorKey); // kill interval\r\n        this.XenonGeneratorKey = -1; // reset key\r\n        this.killElectronGenerator();\r\n    }\r\n\r\n    /**\r\n     * Spawns xenon particles every [spawn_rate] seconds, simulates heated cathode inserts.\r\n     * @author Jack\r\n     *\r\n     * @param spawn_rate time in SECONDS between each particle spawn.\r\n     */\r\n    startElectronGenerator(spawn_rate){\r\n        const ctx = this.getLayer(heat);\r\n\r\n        // 2 electrons per spawn_rate seconds + 2 initial ones\r\n        if(this.ElectronGeneratorKey_Top === -1){\r\n            // generate two initial ones to get it going right away\r\n            ProtoParticle.generateElectron(ctx, this.getInsertTopX(), this.getInsertTopY() + 12, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX()); // \"top insert\"\r\n            ProtoParticle.generateElectron(ctx, this.getInsertTopX(), this.getInsertBotY() - 12, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX()); // \"bottom insert\"\r\n            // generate on a timer\r\n            this.ElectronGeneratorKey_Top = setInterval(ProtoParticle.generateElectron, spawn_rate * 1000, ctx, this.getInsertTopX() + 12, this.getInsertTopY() + 12, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX()); // \"top insert\"\r\n            this.ElectronGeneratorKey_Bot = setInterval(ProtoParticle.generateElectron, spawn_rate * 1000, ctx, this.getInsertTopX() + 12, this.getInsertBotY() - 12, this.getCathTubeBot(), this.getCathTubeTop(), this.getParticleTubeRightX(), this.getCathTubeLeftX()); // \"bottom insert\"\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Restarts the electron generator with the desired spawn rate, likely to slow it down\r\n     *\r\n     * @param new_spawn_rate time in seconds between each particle spawn\r\n     */\r\n    slowElectronGenerator(new_spawn_rate){\r\n        this.killElectronGenerator();\r\n        this.startElectronGenerator(new_spawn_rate);\r\n    }\r\n\r\n    /**\r\n     * Stops the generation of electrons immediately\r\n     */\r\n    killElectronGenerator(){\r\n        clearInterval(this.ElectronGeneratorKey_Top); // kill interval\r\n        clearInterval(this.ElectronGeneratorKey_Bot); // kill interval\r\n        this.ElectronGeneratorKey_Top = -1; // reset key\r\n        this.ElectronGeneratorKey_Bot = -1; // reset key\r\n    }\r\n\r\n\r\n    stopEjecting(){\r\n        ProtoParticle.setEjectFlag(false);\r\n    }\r\n    stopIonizing(){\r\n        ProtoParticle.setIonizeFlag(false);\r\n    }\r\n\r\n    /**\r\n     * Stops, clears, and resets all generators, particles, and flags.\r\n     */\r\n    killProtoParticle(){\r\n        this.killElectronGenerator();\r\n        this.killXenonGenerator();\r\n        ProtoParticle.setEjectFlag(false);\r\n        ProtoParticle.setIonizeFlag(false);\r\n        ProtoParticle.killAllParticles();\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * draw_csv_gas_feed_guide()\r\n     * Draws the guide text and tooltips and such for draw_csv_gas_feed for learning mode\r\n     */\r\n    draw_csv_gas_feed_guide(){\r\n        // console.log(gas, \" draw_csv_gas_feed_guide called\"); //:debug\r\n\r\n         this.clearCanvas(gas);\r\n         const ctx = this.getLayer(gas);\r\n\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma()\r\n     * Function to draw the internal plasma visuals (currently only draws a green square)\r\n     */\r\n    draw_csv_internal_plasma(){\r\n        // console.log(plasma, \" draw_csv_internal_plasma called\"); //:debug\r\n\r\n        this.clearCanvas(plasma);\r\n        const ctx = this.getLayer(plasma);\r\n\r\n        ProtoParticle.ionizeParticles();\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma_guide()\r\n     * Draws the guide text and tooltips and such for draw_csv_internal_plasma for learning mode\r\n     */\r\n    draw_csv_internal_plasma_guide() {\r\n        // console.log(plasma, \" draw_csv_internal_plasma_guide called\"); //:debug\r\n\r\n        // because the user has the inserts heated and the gas feed toggled on, plasma is forming within the cathode tube/chamber(?), this plasma is super hot and stuff and is what we need\r\n        // now we need to eject this plasma from the hollow cathode\r\n\r\n        // this.clearCanvas(plasma);\r\n        // const ctx = this.getLayer(plasma);\r\n\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma_off_heat_guide()\r\n     * Draws the guide text for when the user has caused the internal plasma to disappear due to turning off \"heat inserts\"\r\n     */\r\n    draw_csv_internal_plasma_on_heat_guide() {\r\n        // console.log(plasma, \" draw_csv_internal_plasma_off_heat_guide called\"); //:debug\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma_off_heat_guide()\r\n     * Draws the guide text for when the user has caused the internal plasma to disappear due to turning off \"heat inserts\"\r\n     */\r\n    draw_csv_internal_plasma_on_heat_guide() {\r\n        // console.log(plasma, \" draw_csv_internal_plasma_off_heat_guide called\"); //:debug\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma_off_heat_guide()\r\n     * Draws the guide text for when the user has caused the internal plasma to disappear due to turning off \"heat inserts\"\r\n     */\r\n    draw_csv_internal_plasma_off_heat_guide() {\r\n        // console.log(plasma, \" draw_csv_internal_plasma_off_heat_guide called\"); //:debug\r\n    }\r\n\r\n    /**\r\n     * draw_csv_internal_plasma_off_gas_guide()\r\n     * Draws the guide text for when the user has caused the internal plasma to disappear due to turning off \"gas feed\"\r\n     */\r\n    draw_csv_internal_plasma_off_gas_guide() {\r\n        // console.log(plasma, \" draw_csv_internal_plasma_off_gas_guide called\"); //:debug\r\n    }\r\n\r\n\r\n    /**\r\n     * draw_csv_keeper_electrode()\r\n     * Function to draw the keeper electrode visuals (currently only draws a blue square)\r\n     */\r\n    draw_csv_keeper_electrode(){\r\n        // console.log(keeper, \" draw_csv_keeper_electrode called\"); //:debug\r\n\r\n        this.clearCanvas(keeper);\r\n        const ctx = this.getLayer(keeper);\r\n    }\r\n\r\n    /**\r\n     * draw_csv_keeper_electrode_guide()\r\n     * Draws the guide text and tooltips and such for the draw_csv_keeper_electrode for learning mode\r\n     */\r\n    draw_csv_keeper_electrode_guide(){\r\n        // console.log(keeper, \" draw_csv_keeper_electrode_guide called\"); //:debug\r\n\r\n        // this.clearCanvas(keeper);\r\n        // const ctx = this.getLayer(keeper);\r\n    }\r\n\r\n\r\n    /**\r\n     * draw_csv_eject_plasma()\r\n     * Function to draw the eject plasma visuals (currently only draws a violet [purple] square)\r\n     */\r\n    draw_csv_eject_plasma(){\r\n        // console.log(eject, \" draw_csv_eject_plasma called\"); //:debug\r\n\r\n        this.clearCanvas(eject);\r\n        const ctx = this.getLayer(eject);\r\n\r\n        ProtoParticle.ejectParticles();\r\n    }\r\n\r\n    /**\r\n     * draw_csv_eject_plasma_guide()\r\n     * Draws the guide text and tooltips and such for the draw_csv_eject_plasma for learning mode\r\n     */\r\n    draw_csv_eject_plasma_guide() {\r\n        // console.log(eject, \" draw_csv_eject_plasma_guide called\"); //:debug\r\n\r\n        // this.clearCanvas(eject);\r\n        // const ctx = this.getLayer(eject);\r\n    }\r\n}\r\n\r\nexport default Painter;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport LandingPage from \"./LandingPage.js\";\r\nimport Painter from \"./Painter\";\r\n\r\n/**\r\n * Mapping layers via constants\r\n * These should always be used to reference layers when used as parameters to a function or when interacting with this.state.\r\n * This allows us to easily add and remove layers.\r\n */\r\nimport {\r\n    base,\r\n    eject,\r\n    gas,\r\n    heat,\r\n    keeper,\r\n    plasma\r\n} from \"./Galactic\";\r\nimport ProtoParticle from \"./ProtoParticle\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n/**\r\n * Presentation mode element\r\n * Should be rendered inside a <div id={\"canvasHolder\"}>\r\n * also with props: id={\"PresMode\"} deltastage={base} scene={[true,false,false,false,false,false]}\r\n */\r\nclass PresMode extends React.Component {\r\n    // Instance variables:\r\n    // (all basically cosmetic) (created in constructor)\r\n    deltastage;\r\n    scene;\r\n    canvas;\r\n    layers; // layers[base = 0, heat = 1, gas = 2, plasma = 3, keeper = 4, eject = 5]; //layers = [ctx0, ctx1, ctx2, ctx3, ctx4, ctx5];\r\n    painter;\r\n    static isAuto = false;\r\n\r\n    constructor(props){\r\n        super();\r\n\r\n        this.base_cathode = new Image();\r\n        this.base_cathode.src = \"/hollow-cathode-visualization/images/base_cathode.png\";\r\n\r\n        // initialize canvas instance variables\r\n        this.canvas0 = React.createRef();                              //// 1 - create ref\r\n        this.canvas1 = React.createRef();\r\n        this.canvas2 = React.createRef();\r\n        this.canvas3 = React.createRef();\r\n        this.canvas4 = React.createRef();\r\n        this.canvas5 = React.createRef();\r\n\r\n        this.canvas6 = React.createRef();   //Hall Thruster OFF\r\n        this.canvas7 = React.createRef();   //Hall Thruster ON\r\n\r\n        // bind handler function(s)\r\n        this.nextButton_HandleClick = this.nextButton_HandleClick.bind(this);\r\n        this.autoToggleButton_HandleClick = this.autoToggleButton_HandleClick.bind(this)\r\n\r\n        //sets ID of the autonomous interval to an used value by default\r\n        this.autoID = 0\r\n        this.delay = 5000\r\n\r\n        // initialize state\r\n        this.state = { deltastage: props.deltastage, scene: props.scene };\r\n\r\n        this.state.canvas_height = document.getElementById(\"page-container\").clientHeight;\r\n        this.state.canvas_width = document.getElementById(\"page-container\").clientWidth;\r\n    }\r\n\r\n    /**\r\n     * componentDidMount()\r\n     * Called when canvas element is mounted on page (canvas element is unusable up until this point)\r\n     */\r\n    componentDidMount() {\r\n        // an attempted fix for reloading breaking pages\r\n        // if(this.state.canvas_width === 0 || this.state.canvas_height === 0){\r\n        //     this.state.canvas_height = document.getElementById(\"page-container\").clientHeight;\r\n        //     this.state.canvas_width = document.getElementById(\"page-container\").clientWidth;\r\n        // }\r\n\r\n        // initialize instance variables for each canvas element/layer\r\n        const ctx0 = this.canvas0.current.getContext('2d'); // base = 0;\r\n        const ctx1 = this.canvas1.current.getContext('2d'); // heat = 1;\r\n        const ctx2 = this.canvas2.current.getContext('2d'); // gas = 2;\r\n        const ctx3 = this.canvas3.current.getContext('2d'); // plasma = 3;\r\n        const ctx4 = this.canvas4.current.getContext('2d'); // keeper = 4;\r\n        const ctx5 = this.canvas5.current.getContext('2d'); // eject = 5;\r\n        const ctx6 = this.canvas6.current.getContext('2d'); // Hall Thruster OFF = 6;\r\n        const ctx7 = this.canvas7.current.getContext('2d'); // Hall Thruster ON = 7;\r\n\r\n        this.layers = [ctx0, ctx1, ctx2, ctx3, ctx4, ctx5, ctx6, ctx7];\r\n        //      layers[base = 0, heat = 1, gas = 2, plasma = 3, keeper = 4, eject = 5, thruster off = 6, thruster on = 7];\r\n        this.painter = new Painter(this.layers);\r\n        this.scenarioRefresh();\r\n        PresMode.isAuto= false;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * scenarioRefresh()\r\n     *\r\n     * Populates the canvas based on the current state, is hopefully called whenever a change is made (ex: the onClick functions)\r\n     * You can see the end of this function as the end of the current update/iteration.\r\n     */\r\n    scenarioRefresh() {\r\n        // console.log(\"PresMode.scenarioRefresh() called\"); //:debug\r\n\r\n        // console.log(\"   scenarioRefresh:: this.state.deltastage\", this.state.deltastage); //:debug\r\n        // console.log(\"   scenarioRefresh:: this.state.scene\", this.state.scene); //:debug\r\n        // clear all drawings if the user just entered presentation mode or it looped back to the beginning\r\n        if (this.state.scene[base] === true && this.state.scene[heat] === false) {\r\n            // clear every layer, and all particles, and all generators\r\n            this.painter.killProtoParticle();\r\n            for (let i = base; i < this.state.scene.length; i++) {\r\n                this.painter.clearCanvas(i);\r\n            }\r\n        }\r\n\r\n        // if basedrawing is active\r\n        if (this.state.scene[base] === true) {\r\n            //this.draw_csv_Base_Drawing();\r\n\r\n            //draw base cathode\r\n            this.painter.draw_csv_Base_Drawing();\r\n        }\r\n\r\n        // if heat insert is active\r\n        if (this.state.scene[heat] === true) {\r\n            this.painter.draw_csv_Heat_Insert();\r\n        }\r\n\r\n        // if gas feed is active\r\n        if (this.state.scene[gas] === true) {\r\n            this.painter.draw_csv_gas_feed();\r\n        }\r\n\r\n        // if internal plasma is active\r\n        if (this.state.scene[plasma] === true) {\r\n            this.painter.draw_csv_internal_plasma();\r\n        }\r\n\r\n        // if keeper electrode is active\r\n        if (this.state.scene[keeper] === true) {\r\n            this.painter.draw_csv_keeper_electrode();\r\n        }\r\n\r\n        // if eject plasma is active\r\n        if (this.state.scene[eject] === true) {\r\n            this.painter.draw_csv_eject_plasma();\r\n        }\r\n\r\n        // console.log(\"-----------------------------scenarioRefresh (end)-----------------------------\"); //:debug\r\n    }\r\n\r\n    /**\r\n     * nextButton_HandleClick()\r\n     * Onclick handler for the \"next\" button, updates the state via appropriate logic\r\n     */\r\n    nextButton_HandleClick() {\r\n        let newdeltastage = this.state.deltastage;\r\n        let newscene = this.state.scene;\r\n\r\n        // update the state, currently does not show hall thruster information, and skips those steps entirely by design\r\n        if(this.state.deltastage === this.state.scene.length - 3){\r\n            // special case: loop to beginning         note: this loop intentionally starts at 1 instead of zero\r\n            for (let i = 1; i < this.state.scene.length; i++) {\r\n                newdeltastage = base;\r\n                newscene[i] = false;\r\n            }\r\n        } else {\r\n            // normal case: move to next animation stage\r\n            for (let i = 1; i < this.state.scene.length; i++) {\r\n                if(this.state.scene[i] === false){\r\n                    newdeltastage = i;\r\n                    newscene = this.state.scene;\r\n                    newscene[i] = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: newdeltastage, scene: newscene };\r\n        }, () => {this.scenarioRefresh()});\r\n\r\n        // WARNING: code past setState will not be synchronously executed\r\n    }\r\n\r\n    /**\r\n     * backButton_HandleClick()\r\n     * Onclick handler for the \"back\" button, reloads the landing page\r\n     */\r\n    // backButton_HandleClick() {\r\n    //     // render learning mode\r\n    //     ReactDOM.render(\r\n    //         <div id={\"canvasHolder\"}>\r\n    //             <LandingPage id={\"landingPage\"}/>\r\n    //         </div>,\r\n    //         document.getElementById('root')\r\n    //     );\r\n    // }\r\n\r\n    /**\r\n     * autoToggleButton_HandleClick()\r\n     * Onclick handler for the \"Autonomous/Manual\" button, starts the looping progress\r\n     */\r\n    autoToggleButton_HandleClick() {\r\n        PresMode.isAuto = !PresMode.isAuto;\r\n        console.log(PresMode.isAuto);\r\n        if(PresMode.isAuto){\r\n            //when in auto mode, the next button is hidden, but the handler function for 'next' is run every this.delay (currently 5000) milliseconds\r\n            document.getElementById(\"nextButton\").style.visibility = 'hidden'\r\n            this.autoID = setInterval(()=>{this.nextButton_HandleClick()}, this.delay)\r\n        }\r\n        else{\r\n            //when out of auto mode, the interval is stopped, and the 'next' button is returned\r\n            document.getElementById(\"nextButton\").style.visibility = 'visible'\r\n            clearInterval(this.autoID)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id={'canvasHolder'}>\r\n                <canvas id={\"canvas0\"} ref={this.canvas0} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas1\"} ref={this.canvas1} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas2\"} ref={this.canvas2} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas3\"} ref={this.canvas3} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas4\"} ref={this.canvas4} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas5\"} ref={this.canvas5} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas6\"} ref={this.canvas6} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas7\"} ref={this.canvas7} className={\"canvas\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n\r\n                <div className={\"stackedButtonGroup bottomleftAlign\"}>\r\n                    <Link to={'/hollow-cathode-visualization/'}>\r\n                        <button id={\"backButton\"} className={\"button\"}> Back to Landing Page </button>\r\n                    </Link>\r\n                    <button id={\"autoToggleButton\"} className={\"button\"} onClick={this.autoToggleButton_HandleClick}> Toggle Mode </button>\r\n                </div>\r\n                <div className={\"stackedButtonGroup bottomrightAlign\"}>\r\n                    <button id={\"nextButton\"} className={\"button\"} onClick={this.nextButton_HandleClick}> Next </button>\r\n                </div>\r\n            </div>\r\n        ) //// 2 - attach ref to node via ref = this.canvas#\r\n    }\r\n}\r\n\r\nexport default PresMode;","import React from \"react\";\r\nimport Painter from \"./Painter\";\r\nimport {\r\n    base,\r\n    eject,\r\n    gas,\r\n    hallThrusterOff,\r\n    hallThrusterOn,\r\n    heat,\r\n    keeper,\r\n    plasma,\r\n    hallThrusterPrimaryText,\r\n    hallThrusterSecondaryOnText,\r\n    hallThrusterSecondaryOffText,\r\n    cathodeShellPrimaryTitleText,\r\n    cathodeShellPrimaryText,\r\n    heatTitleText,\r\n    heatText,\r\n    gasTitleText2,\r\n    gasText,\r\n    plasmaTitleText,\r\n    plasmaText,\r\n    keeperTitleText,\r\n    keeperText,\r\n    ejectTitleText,\r\n    ejectText,\r\n    heatKeeperErrorTitleText,\r\n    heatKeeperErrorText,\r\n    gasKeeperTitleText,\r\n    gasKeeperErrorText, cathodeCSVTitleText, cathodeCSVText,\r\n    references,\r\n} from \"./Galactic\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\nimport LandingPage from \"./LandingPage\";\r\nimport {Link, useLinkClickHandler} from \"react-router-dom\";\r\n\r\nconst {promisify} = require('util')\r\nconst sleep= promisify(setTimeout)\r\n\r\nlet canvas_height = 750;\r\nlet canvas_width = 1150;\r\n\r\n/**\r\n * Learning mode element\r\n * Should be rendered inside a <div id={\"canvasHolder\"}>\r\n * also with props: id={\"LearningMode\"} deltastage={base} scene={[true,false,false,false,false,false,false,false]}\r\n */\r\n\r\nvar HALL_THRUSTER_ON = false;\r\nvar didRotate = false;\r\n\r\nexport class LearningMode extends React.Component {\r\n\r\n    // Instance variables:\r\n    // (all essentially cosmetic) (created in constructor)\r\n    deltastage;\r\n    scene;\r\n    canvas;\r\n    layers; // layers[base = 0, heat = 1, gas = 2, plasma = 3, keeper = 4, eject = 5, thruster off = 6, thruster on = 7]; //layers = [ctx0, ctx1, ctx2, ctx3, ctx4, ctx5, ctx6, ctx7];\r\n    painter;\r\n    thrusterButtonText; // if the thruster is on, this text says \"off\", and vice versa\r\n\r\n    constructor(props){\r\n        super();\r\n\r\n        // initialize canvas instance variables\r\n\r\n        //Hollow Cathode Canvases:\r\n        this.canvas0 = React.createRef();   //// 1 - create ref\r\n        this.canvas1 = React.createRef();\r\n        this.canvas2 = React.createRef();\r\n        this.canvas3 = React.createRef();\r\n        this.canvas4 = React.createRef();\r\n        this.canvas5 = React.createRef();\r\n\r\n        //Hall Thruster Canvases:\r\n        this.canvas6 = React.createRef();   //Hall Thruster OFF\r\n        this.canvas7 = React.createRef();   //Hall Thruster ON\r\n\r\n        // bind handler function(s)\r\n        this.HeatInsertToggle_HandleClick = this.HeatInsertToggle_HandleClick.bind(this);\r\n        this.GasFeedToggle_HandleClick = this.GasFeedToggle_HandleClick.bind(this);\r\n        this.KeeperElectrodeToggle_HandleClick = this.KeeperElectrodeToggle_HandleClick.bind(this);\r\n        this.nextButton_plasma_HandleClick = this.nextButton_plasma_HandleClick.bind(this);\r\n        this.nextButton_eject_HandleClick = this.nextButton_eject_HandleClick.bind(this);\r\n        this.hallThrusterToggle_HandleClick = this.hallThrusterToggle_HandleClick.bind(this);\r\n        this.nextButton_hallThrusterToShell_HandleClick = this.nextButton_hallThrusterToShell_HandleClick.bind(this);\r\n        this.nextButton_shellToLearningModeCore_HandleClick = this.nextButton_shellToLearningModeCore_HandleClick.bind(this);\r\n        this.nextButton_end_HandleClick = this.nextButton_end_HandleClick.bind(this);\r\n\r\n        // initialize state\r\n        this.state = { deltastage: props.deltastage, scene: props.scene, text:props.text};\r\n\r\n        this.state.canvas_height = document.getElementById(\"page-container\").clientHeight;\r\n        this.state.canvas_width = document.getElementById(\"page-container\").clientWidth;\r\n\r\n        // Hall Thruster toggle button text\r\n        if(this.state.scene[hallThrusterOn] === true) {\r\n            this.thrusterButtonText = \"Off\";\r\n        }\r\n        else {\r\n            this.thrusterButtonText = \"On\";\r\n        }\r\n\r\n\r\n        window.addEventListener('resize', this.handleResize);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize);\r\n        this.painter.killProtoParticle();\r\n    }\r\n\r\n    handleResize = () => this.setState({\r\n        canvas_height: window.innerHeight * 0.8,\r\n        canvas_width: window.innerWidth\r\n    }, this.scenarioRefresh);\r\n\r\n\r\n    /**\r\n     * Hides the element with the given id\r\n     * @param elementId id of element to hide\r\n     */\r\n    hideElement(elementId){\r\n        //document.getElementById(elementId).style.visibility = 'hidden';\r\n        document.getElementById(elementId).style.display = 'none';\r\n    }\r\n    /**\r\n     * Shows the element with the given id\r\n     * @param elementId id of element to show\r\n     */\r\n    showElement(elementId){\r\n        // document.getElementById(elementId).style.visibility = 'visible';\r\n        document.getElementById(elementId).style.display = 'flex';\r\n    }\r\n\r\n    isElementShown(elementId){\r\n        if(document.getElementById(elementId).style.display === 'flex') {\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * componentDidMount()\r\n     * Called when canvas element is mounted on page (canvas element is unusable up until this point)\r\n     */\r\n    componentDidMount() {\r\n        // an attempted fix for reloading breaking pages\r\n        // this.setState({\r\n        //     canvas_height: document.getElementById(\"page-container\").clientHeight,\r\n        //     canvas_width: document.getElementById(\"page-container\").clientWidth\r\n        // })\r\n\r\n        // initialize instance variables for each canvas element/layer\r\n        const ctx0 = this.canvas0.current.getContext('2d'); // base = 0;\r\n        const ctx1 = this.canvas1.current.getContext('2d'); // heat = 1;\r\n        const ctx2 = this.canvas2.current.getContext('2d'); // gas = 2;\r\n        const ctx3 = this.canvas3.current.getContext('2d'); // plasma = 3;\r\n        const ctx4 = this.canvas4.current.getContext('2d'); // keeper = 4;\r\n        const ctx5 = this.canvas5.current.getContext('2d'); // eject = 5;\r\n        const ctx6 = this.canvas6.current.getContext('2d'); // Hall Thruster OFF = 6;\r\n        const ctx7 = this.canvas7.current.getContext('2d'); // Hall Thruster ON = 7;\r\n\r\n        document.getElementById(\"HallThrusterNext\").onclick = this.nextButton_hallThrusterToShell_HandleClick\r\n        document.getElementById(\"HallThrusterNext_Accessible\").onclick = this.nextButton_hallThrusterToShell_HandleClick\r\n\r\n        this.layers = [ctx0, ctx1, ctx2, ctx3, ctx4, ctx5, ctx6, ctx7];\r\n        //      layers[base = 0, heat = 1, gas = 2, plasma = 3, keeper = 4, eject = 5, thruster off = 6, thruster on = 7];\r\n        this.painter = new Painter(this.layers);\r\n        this.scenarioRefresh();\r\n\r\n    }\r\n\r\n    /**\r\n     * scenarioRefresh()\r\n     *\r\n     * Populates the canvas based on the current state, is hopefully called whenever a change is made (ex: the onClick functions)\r\n     * You can see the end of this function as the end of the current update/iteration.\r\n     */\r\n    scenarioRefresh() {\r\n        // Execute logic based on deltastage and scene\r\n        // console.log('scenarioRefresh active: '+this.scene);//:debug\r\n        this.setState({text: \" \"})\r\n        if(this.state.scene[hallThrusterOff] === true) {\r\n            this.hideElement(\"hallThrusterOn-fadeIn\")\r\n            this.hideElement(\"hallThrusterOn-fadeOut\")\r\n\r\n            this.hideElement(\"toggleButtonGroup\");\r\n            this.hideElement(\"summaryButton_\")\r\n\r\n            this.painter.draw_Hall_Thruster_Off();\r\n\r\n            this.showElement(\"hallThrusterOffLabelDiv\");\r\n            this.showElement(\"hallThrusterOffSublabelDiv\");\r\n\r\n            this.hideElement(\"hallThrusterOnLabelDiv\");\r\n            this.hideElement(\"hallThrusterOnSublabelDiv\");\r\n        }\r\n        else\r\n        {\r\n            this.hideElement(\"hallThrusterButtonGroup\");\r\n            this.hideElement(\"hallThrusterOffLabelDiv\");\r\n            this.hideElement(\"hallThrusterOnLabelDiv\");\r\n            this.hideElement(\"hallThrusterOffSublabelDiv\");\r\n            this.hideElement(\"hallThrusterOnSublabelDiv\");\r\n            this.hideElement(\"hallThrusterNameLabelDiv\");\r\n            this.hideElement(\"hallThrusterNameSublabelDiv\");\r\n        }\r\n\r\n        if (this.state.scene[hallThrusterOn] === true)\r\n        {\r\n            this.hideElement(\"toggleButtonGroup\");\r\n            this.painter.draw_Hall_Thruster_On();\r\n\r\n            this.showElement(\"hallThrusterOnLabelDiv\");\r\n            this.showElement(\"hallThrusterOnSublabelDiv\");\r\n\r\n            this.hideElement(\"hallThrusterOffLabelDiv\");\r\n            this.hideElement(\"hallThrusterOffSublabelDiv\");\r\n        }\r\n\r\n        // Hall Thruster toggle button text\r\n        // programed backwards because of order of execution\r\n\r\n        //If the user turns the hall thruster on\r\n        if(this.state.scene[hallThrusterOn] === true){\r\n            HALL_THRUSTER_ON = true;\r\n            this.showElement(\"hallThrusterOn-fadeIn\")\r\n\r\n            this.thrusterButtonText = \"Off\";\r\n        }\r\n        //If the user turns the hall thruster off after it was just on\r\n        else if(HALL_THRUSTER_ON === true)\r\n        {\r\n            this.showElement(\"hallThrusterOn-fadeOut\")\r\n            this.thrusterButtonText = \"On\";\r\n\r\n            //HALL_THRUSTER_ON = false;\r\n        }\r\n        //If the hall thruster is off\r\n        //Also the first thing to happen in Hall Thruster view\r\n        else\r\n        {\r\n            this.hideElement(\"hallThrusterOn-fadeIn\")\r\n            this.hideElement(\"hallThrusterOn-fadeOut\")\r\n\r\n            this.thrusterButtonText = \"On\";\r\n        }\r\n\r\n        if(this.state.scene[hallThrusterOn] === false && this.state.scene[hallThrusterOff] === false)\r\n        {\r\n            this.hideElement(\"hallThrusterOn-fadeIn\")\r\n            this.hideElement(\"hallThrusterOn-fadeOut\")\r\n        }\r\n\r\n\r\n        if(this.state.scene[hallThrusterOn] === true) {\r\n            this.painter.draw_Hall_Thruster_On();\r\n\r\n        } else if (this.state.deltastage === hallThrusterOn) {\r\n            this.painter.clearCanvas(hallThrusterOn);\r\n\r\n        }else{\r\n            this.hideElement(\"hallThrusterOn-fadeOut\")\r\n            this.hideElement(\"hallThrusterOn-fadeIn\")\r\n        }\r\n\r\n        // if basedrawing is active\r\n        if(this.state.scene[base] === true){\r\n            // console.log('base cathode is drawing')//:debug\r\n            this.painter.draw_csv_Base_Drawing()\r\n            this.painter.clearCanvas(hallThrusterOn)\r\n            this.painter.clearCanvas(hallThrusterOff)\r\n\r\n\r\n            // if the user just toggled basedrawing\r\n            if(this.state.deltastage === base || this.state.deltastage === hallThrusterOn || this.deltastage === hallThrusterOff){\r\n                this.painter.draw_csv_Base_Drawing_guide();\r\n                this.setState({text: cathodeCSVText})\r\n            }\r\n\r\n            this.hideElement(\"hallThruster\")\r\n\r\n            //this.showElement(\"baseCathode\")\r\n        }\r\n        //hide some elements that shouldn't be seen outside cross-sectional view\r\n        else if(this.state.scene[base] === false)\r\n        {\r\n            this.hideElement(\"baseCathode-fadeIn\");\r\n            this.hideElement(\"baseCathode-fadeOut\");\r\n            this.hideElement(\"thrusterAndCathode-fadeOut\");\r\n\r\n            this.hideElement(\"baseCathode\")\r\n\r\n            this.hideElement(\"testBaseCathode\")\r\n        }\r\n        // the user deselected this option/layer\r\n        else if (this.state.deltastage === base){\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n        }\r\n\r\n        // if keeper electrode is active\r\n        if(this.state.scene[keeper] === true){\r\n            this.painter.draw_csv_keeper_electrode();\r\n            let t = document.getElementById(\"GasFeedToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"HeatInsertToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"KeeperElectrodeToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            // if the user just toggled the keeper electrode\r\n            if(this.state.deltastage === keeper){\r\n\r\n                this.setState({text: keeperText})\r\n            }\r\n        }\r\n        // if the user deselected this option/layer\r\n        else if (this.state.deltastage === keeper){\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n            this.painter.stopEjecting();\r\n        }\r\n\r\n        // if heat insert is active\r\n        if(this.state.scene[heat] === true){\r\n            let t = document.getElementById(\"GasFeedToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"HeatInsertToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"KeeperElectrodeToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            this.painter.draw_csv_Heat_Insert();\r\n\r\n            // if the user just toggled heat insert\r\n            if(this.state.deltastage === heat)\r\n            {\r\n\r\n                this.setState({text: heatText})\r\n            }\r\n        }\r\n        // if the user deselected this option/layer\r\n        else if (this.state.deltastage === heat){\r\n\r\n            this.painter.killElectronGenerator();\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n        }\r\n\r\n        // if gas feed is active\r\n        if(this.state.scene[gas] === true){\r\n            this.painter.draw_csv_gas_feed();\r\n            let t = document.getElementById(\"GasFeedToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"HeatInsertToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n            t = document.getElementById(\"KeeperElectrodeToggle\")\r\n            if(t.classList.contains(\"disabled\"))\r\n                t.classList.remove(\"disabled\")\r\n\r\n            // if the user just toggled the gas feed\r\n            if(this.state.deltastage === gas){\r\n\r\n                this.setState({text: gasText})\r\n            }\r\n        }\r\n        // if the user deselected this option/layer\r\n        else if (this.state.deltastage === gas){\r\n            this.painter.killXenonGenerator();\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n        }\r\n\r\n        // INTERNAL PLASMA // -----------\r\n        // if internal plasma is true\r\n        if(this.state.scene[plasma]){\r\n            if(this.state.scene[heat] && this.state.scene[gas]){\r\n                this.painter.draw_csv_internal_plasma();\r\n\r\n                // if the user  just triggered the internal plasma\r\n                if(this.state.deltastage === plasma){\r\n                    this.setState({text: plasmaText})\r\n                }\r\n            } else {\r\n                // plasma shouldn't exist\r\n                let newScene = this.state.scene;\r\n                newScene[plasma] = false;\r\n\r\n                // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n                this.setState((state, props) => {\r\n                    return { deltastage: plasma, scene: newScene };\r\n                }, () => {this.scenarioRefresh()});\r\n            }\r\n        }\r\n\r\n        // if both heat and gas are true but internal plasma isn't\r\n        else if (this.state.scene[heat] && this.state.scene[gas]){\r\n            // there probably should be internal plasma?\r\n\r\n            // see if plasma should be required to be next in line\r\n            if(this.state.deltastage === heat || this.state.deltastage === gas){\r\n                // show next button (restrict user mobility)\r\n                this.painter.clearCanvas(plasma);\r\n                this.hideElement(\"toggleButtonGroup\");\r\n                this.showElement(\"nextButton\");\r\n                document.getElementById('nextButton').style.display='block';\r\n                document.getElementById(\"nextButton\").onclick = this.nextButton_plasma_HandleClick;\r\n            }\r\n        }\r\n        // if plasma is false and deltastage is plasma\r\n        else if (this.state.deltastage === plasma){\r\n            // the user deselected this option/layer\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n            this.painter.stopIonizing();\r\n\r\n            // if internal plasma stops because ___ call ___ explanation\r\n            if(!this.state.scene[heat]){\r\n                this.painter.draw_csv_internal_plasma_off_heat_guide();\r\n            } else if(!this.state.scene[gas]){\r\n                this.painter.draw_csv_internal_plasma_off_gas_guide();\r\n            }\r\n        }\r\n\r\n        // EJECT PLASMA // -----------\r\n        if(this.state.scene[eject]){\r\n            if(this.state.scene[heat] && this.state.scene[gas] && this.state.scene[plasma] && this.state.scene[keeper]){\r\n                this.painter.draw_csv_eject_plasma();\r\n\r\n                // if the user just triggered eject plasma\r\n                if(this.state.deltastage === eject){\r\n                    this.setState({text: ejectText})\r\n                }\r\n            } else {\r\n                // plasma shouldn't eject\r\n                let newScene = this.state.scene;\r\n                newScene[eject] = false;\r\n\r\n                // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n                this.setState((state, props) => {\r\n                    return { deltastage: eject, scene: newScene };\r\n                }, () => {this.scenarioRefresh()});\r\n            }\r\n        }\r\n        else if (this.state.scene[heat] && this.state.scene[gas] && this.state.scene[plasma] && this.state.scene[keeper]){\r\n            // there probably should be ejecting plasma?\r\n\r\n            // see if eject should be required to be next in line\r\n            if(this.state.deltastage === keeper){\r\n                // show next button (restrict user mobility)\r\n                this.painter.clearCanvas(eject);\r\n                this.hideElement(\"toggleButtonGroup\");\r\n                this.showElement(\"nextButton\");\r\n                document.getElementById(\"nextButton\").onclick = this.nextButton_eject_HandleClick;\r\n            }\r\n        }\r\n        // if eject is false and deltastage is plasma\r\n        else if (this.state.deltastage === eject){\r\n            // the user deselected this option/layer\r\n            this.painter.clearCanvas(this.state.deltastage);\r\n            this.painter.stopEjecting();\r\n\r\n            // if ejecting plasma stops bcz ___ call ___ explanation\r\n            // if(!this.state.scene[heat]){\r\n            //     this.painter.draw_csv_eject_plasma_off_heat_guide();\r\n            // } else if(!this.state.scene[gas]){\r\n            //     this.painter.draw_csv_eject_plasma_off_gas_guide();\r\n            // } else if(!this.state.scene[plasma]){\r\n            //     this.painter.draw_csv_eject_plasma_off_plasma_guide();\r\n            // } else if(!this.state.scene[keeper]){\r\n            //     this.painter.draw_csv_eject_plasma_off_keeper_guide();\r\n            // }\r\n        }\r\n        //GAS ON, KEEPER ON, NO PLASMA\r\n        if (this.state.scene[gas] === true  && this.state.scene[keeper] === true && this.state.scene[plasma] === false && (this.state.deltastage === gas || this.state.deltastage === keeper)) {\r\n            if(this.state.deltastage === keeper){\r\n                let t = document.getElementById(\"HeatInsertToggle\")\r\n                t.classList.add(\"disabled\")\r\n                t = document.getElementById(\"GasFeedToggle\")\r\n                t.classList.add(\"disabled\")\r\n            }\r\n            else{\r\n                let t = document.getElementById(\"HeatInsertToggle\")\r\n                t.classList.add(\"disabled\")\r\n                t = document.getElementById(\"KeeperElectrodeToggle\")\r\n                t.classList.add(\"disabled\")\r\n\r\n            }\r\n            this.setState({text: gasKeeperErrorText});\r\n\r\n        }\r\n\r\n        //HEAT ON, KEEPER ON, NO PLASMA\r\n        if(this.state.scene[heat] && this.state.scene[keeper] && !this.state.scene[plasma] && (this.state.deltastage === heat || this.state.deltastage === keeper)) {\r\n            this.setState({text: heatKeeperErrorText})\r\n            if(this.state.deltastage === keeper){\r\n                let t = document.getElementById(\"HeatInsertToggle\")\r\n                t.classList.add(\"disabled\")\r\n                t = document.getElementById(\"GasFeedToggle\")\r\n                t.classList.add(\"disabled\")\r\n            }\r\n            else{\r\n                let t = document.getElementById(\"GasFeedToggle\")\r\n                t.classList.add(\"disabled\")\r\n                t = document.getElementById(\"KeeperElectrodeToggle\")\r\n                t.classList.add(\"disabled\")\r\n\r\n            }\r\n        }\r\n\r\n        //TODO this is a bad solution for checking the user has completed learning mode\r\n        if(this.state.scene[base] === true\r\n            && this.state.scene[heat] === true\r\n            && this.state.scene[gas] === true\r\n            && this.state.scene[plasma] === true\r\n            && this.state.scene[keeper] === true\r\n            && this.state.scene[eject] === true){\r\n            this.hideElement(\"toggleButtonGroup\");\r\n            this.showElement(\"nextButton\");\r\n            document.getElementById(\"nextButton\").onclick = this.nextButton_end_HandleClick;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * HeatInsertToggle_HandleClick()\r\n     * Onclick handler for the heat insert toggle button\r\n     */\r\n    HeatInsertToggle_HandleClick() {\r\n        // let c = document.getElementById('canvas0');\r\n        // let ctx = c.getContext('2d');\r\n        // ctx.rotate(-15*Math.PI/180);\r\n        let newScene = this.state.scene;\r\n        newScene[heat] = !newScene[heat];\r\n\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: heat, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n\r\n        // WARNING: code past setState will not be synchronously executed\r\n    }\r\n\r\n    /**\r\n     * GasFeedToggle_HandleClick()\r\n     * Onclick handler for the gas feed toggle button\r\n     */\r\n    GasFeedToggle_HandleClick() {\r\n        let newScene = this.state.scene;\r\n        newScene[gas] = !newScene[gas];\r\n\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: gas, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n\r\n        // WARNING: code past setState will not be synchronously executed\r\n    }\r\n\r\n    /**\r\n     * KeeperElectrodeToggle_HandleClick()\r\n     * Onclick handler for the keeper electrode toggle button\r\n     */\r\n    KeeperElectrodeToggle_HandleClick() {\r\n        let newScene = this.state.scene;\r\n        newScene[keeper] = !newScene[keeper];\r\n\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: keeper, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n\r\n        // WARNING: code past setState will not be synchronously executed\r\n    }\r\n\r\n    /**\r\n     * nextButton_plasma_HandleClick()\r\n     * Onclick handler for the \"next\" button for the internal plasma scene, updates the state and DOM via appropriate logic\r\n     */\r\n    nextButton_plasma_HandleClick() {\r\n        let newScene = this.state.scene;\r\n        newScene[plasma] = true;\r\n\r\n        // update DOM buttons (replace next with toggles)\r\n        this.hideElement(\"nextButton\");\r\n        this.showElement(\"toggleButtonGroup\");\r\n\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: plasma, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n\r\n    }\r\n\r\n    /**\r\n     * nextButton_shellToLearningModeCore_HandleClick()\r\n     */\r\n    nextButton_shellToLearningModeCore_HandleClick() {\r\n\r\n        this.hideElement(\"hallThrusterButtonGroup\");\r\n        this.showElement(\"toggleButtonGroup\");\r\n\r\n        this.hideElement(\"hallThrusterButtonGroup\");\r\n        this.hideElement(\"hallThrusterOffLabelDiv\");\r\n        this.hideElement(\"hallThrusterOnLabelDiv\");\r\n        this.hideElement(\"hallThrusterOffSublabelDiv\");\r\n        this.hideElement(\"hallThrusterOnSublabelDiv\");\r\n        this.hideElement(\"hallThrusterNameLabelDiv\");\r\n        this.hideElement(\"hallThrusterNameSublabelDiv\");\r\n        this.hideElement(\"HallThrusterNext\");\r\n\r\n        this.setState((state, props) => {\r\n            return { deltastage: base, scene: [true,false,false,false,false,false,false,false] };\r\n        }, () => {this.scenarioRefresh()});\r\n        this.scenarioRefresh()\r\n\r\n    }\r\n\r\n    /**\r\n     * nextButton_hallThrusterToShell_HandleClick()\r\n     */\r\n    nextButton_hallThrusterToShell_HandleClick() {\r\n        // transition out of \"on\" state before zooming\r\n        this.hideElement(\"hallThrusterOn-fadeIn\");\r\n        this.hideElement(\"hallThrusterOn-fadeOut\");\r\n\r\n        let nextButton = document.getElementById(\"HallThrusterNext\");\r\n        let nextButton_Accessible = document.getElementById(\"HallThrusterNext_Accessible\");\r\n\r\n\r\n        nextButton.classList.replace(\"CathodeHitBox_zoomed_out\", \"CathodeHitBox_zoomed_in\")\r\n        nextButton.onclick = this.nextButton_shellToLearningModeCore_HandleClick;\r\n        nextButton_Accessible.onclick = this.nextButton_shellToLearningModeCore_HandleClick;\r\n\r\n        // trigger zoom animation\r\n        document.getElementById(\"hallThruster\").classList.add(\"hallThrusterToCathodeZoom\")\r\n        //this.hideElement(\"hallThruster\")\r\n\r\n        // todo - change text (bad temporary implementation)\r\n        document.getElementById(\"hallThrusterNameLabel\").innerText = cathodeShellPrimaryTitleText;\r\n        document.getElementById(\"hallThrusterNameSublabel\").innerText = cathodeShellPrimaryText;\r\n        // todo - update red text to tell user to click the cathode again to remove its outer shell\r\n\r\n        this.hideElement(\"hallThrusterOffLabel\");\r\n        this.hideElement(\"hallThrusterOnLabel\");\r\n        this.hideElement(\"hallThrusterOffSublabel\");\r\n        this.hideElement(\"hallThrusterOnSublabel\");\r\n        this.hideElement(\"HallThrusterToggle\");\r\n\r\n        this.setState((state, props) => {\r\n            return { deltastage: base, scene: [false,false,false,false,false,false,true,false] };\r\n        }, () => {this.scenarioRefresh()});\r\n    }\r\n\r\n    hallThrusterToggle_HandleClick() {\r\n        let newScene = this.state.scene;\r\n        newScene[hallThrusterOn] = !newScene[hallThrusterOn];\r\n\r\n        this.setState((state, props) => {\r\n            return { deltastage: hallThrusterOn, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n    }\r\n\r\n    /**\r\n     * nextButton_eject_HandleClick()\r\n     * Onclick handler for the \"next\" button for the eject plasma scene, updates the state and DOM via appropriate logic\r\n     */\r\n    nextButton_eject_HandleClick() {\r\n        let newScene = this.state.scene;\r\n        newScene[eject] = !newScene[eject];\r\n        // update DOM buttons (replace next with normal toggles)\r\n        this.hideElement(\"nextButton\");\r\n        this.showElement(\"toggleButtonGroup\");\r\n        this.showElement(\"summaryButton_\")\r\n        // change the current state, refresh scenario in callback to synchronously update the visuals after the state has changed\r\n        this.setState((state, props) => {\r\n            return { deltastage: eject, scene: newScene };\r\n        }, () => {this.scenarioRefresh()});\r\n    }\r\n\r\n    /**\r\n     * nextButton_end_HandleClick()\r\n     * Onclick handler for the \"next\" button for the eject plasma scene's ending\r\n     * this leads to the view were we show them some links to follow and such\r\n     */\r\n\r\n    /**\r\n     * LINK TO SUMMARY PAGE HERE!!!!\r\n     */\r\n    nextButton_end_HandleClick() {\r\n        this.hideElement(\"learningModeGuide\");\r\n        // console.log(this.state.deltastage);//:debug\r\n        if(this.state.deltastage===eject){\r\n            this.hideElement('nextButton');\r\n            this.showElement('summaryButton');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * getLayer(layer)\r\n     * @param layer layer number which you want to get\r\n     * @returns ctx 2d canvas context for that layer\r\n     */\r\n    getLayer(layer){\r\n        return this.layers[layer];\r\n    }\r\n\r\n    /**\r\n     * backButton_HandleClick()\r\n     * Onclick handler for the \"back\" button, reloads the landing page\r\n     */\r\n    // backButton_HandleClick() {\r\n    //\r\n    //     HALL_THRUSTER_ON = false;\r\n    //     // this.painter.killProtoParticle();\r\n    //     // render learning mode\r\n    //     ReactDOM.render(\r\n    //         <div id={\"canvasHolder\"}>\r\n    //             <LandingPage id={\"landingPage\"}/>\r\n    //         </div>,\r\n    //         document.getElementById('root')\r\n    //     );\r\n    // }\r\n\r\n    render(){\r\n        return (\r\n            <div id={'canvasHolder'}>\r\n                {/*<img id={\"hallThruster\"} src={\"/images/HallThrusterMockup.png\"} className={\"\"} alt={\"Base Cathode\"}/>*/}\r\n                <canvas id={\"canvas0\"} ref={this.canvas0} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas1\"} ref={this.canvas1} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas2\"} ref={this.canvas2} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas3\"} ref={this.canvas3} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas4\"} ref={this.canvas4} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas5\"} ref={this.canvas5} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas6\"} ref={this.canvas6} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n                <canvas id={\"canvas7\"} ref={this.canvas7} className={\"canvas unselectable\"} width={this.state.canvas_width} height={this.state.canvas_height} deltastage={this.state.deltastage} scene={this.state.scene} > You need a better browser :( </canvas>\r\n\r\n                <img id={\"hallThruster\"} src={\"/hollow-cathode-visualization/images/hall_thruster_3.png\"} className={\" \"} alt={\"Hall Thruster Off\"}/>\r\n\r\n\r\n                <img id={\"hallThrusterOn-fadeIn\"} src={\"/hollow-cathode-visualization/images/hallThrusterOn.png\"} className={\"fade-in  \"} alt={\"Hall Thruster On: Fade In\"}/>\r\n                <img id={\"hallThrusterOn-fadeOut\"} src={\"/hollow-cathode-visualization/images/hallThrusterOn.png\"} className={\"fade-out  \"} alt={\"Hall Thruster On: Fade Out\"}/>\r\n\r\n                <img id={\"baseCathode-fadeIn\"} src={\"/hollow-cathode-visualization/images/cross_section_3.png\"} className={\"fade-in\"} alt={\"Hollow Cathode: Fade In\"}/>\r\n                <img id={\"baseCathode-fadeOut\"} src={\"/hollow-cathode-visualization/images/cross_section_3.png\"} className={\"fade-out\"} alt={\"Hollow Cathode: Fade Out\"}/>\r\n                <img id={\"thrusterAndCathode-fadeOut\"} src={\"/hollow-cathode-visualization/images/hall_thruster_3.png\"} className={\"fade-out\"} alt={\"Thruster and Cathode: Fade Out\"}/>\r\n                <img id={\"baseCathode\"} src={\"/hollow-cathode-visualization/images/cross_section_3.png\"} alt={\"Base Hollow Cathode\"}/>\r\n                <img id={\"testBaseCathode\"} src={\"/hollow-cathode-visualization/images/test_base_cathode.png\"} alt={\"\"}/>\r\n\r\n\r\n                <button id={\"HallThrusterNext\"}\r\n                        className={\"CathodeHitBox_zoomed_out\"}>\r\n                </button>\r\n\r\n                <div id={\"backToLandingPageButtonDiv\"} className={\"stackedButtonGroup bottomleftAlign\"} >\r\n                    <Link to={'/hollow-cathode-visualization/'}>\r\n                        <button id={\"backButton\"} className={\"button\"}> Back to Landing Page </button>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div id={\"hallThrusterButtonGroup\"} className={\"stackedButtonGroup bottomrightAlign\"}>\r\n                    <button id={\"HallThrusterNext_Accessible\"}\r\n                            className={\"button\"}> Next\r\n                    </button>\r\n                    <button id={\"HallThrusterToggle\"}\r\n                            className={\"button\"}\r\n                            onClick={this.hallThrusterToggle_HandleClick}> Turn Power {this.thrusterButtonText}\r\n                    </button>\r\n                </div>\r\n\r\n                {/*Hall thruster powered on label/title text*/}\r\n                <div id={\"hallThrusterOffLabelDiv\"}>\r\n                    <label id={\"hallThrusterOffLabel\"}\r\n                           className={\"titleLabel hallThrusterOffTitleLabelPos  \"}> The Hall Thruster Is Off\r\n                    </label>\r\n                </div>\r\n                {/*Hall thruster powered off text*/}\r\n                <div id={\"hallThrusterOffSublabelDiv\"}>\r\n                    <label id={\"hallThrusterOffSublabel\"}\r\n                           className={\"sublabel hallThrusterOffSublabelPos  \"}>\r\n                        {hallThrusterSecondaryOffText}\r\n\r\n                        <p><b id={\"guideText\"}>Click on the cathode to learn more about</b></p>\r\n                    </label>\r\n                </div>\r\n\r\n                {/*Hall thruster powered on label/title text*/}\r\n                <div id={\"hallThrusterOnLabelDiv\"}>\r\n                    <label id={\"hallThrusterOnLabel\"}\r\n                           className={\"titleLabel hallThrusterOffTitleLabelPos  \"}> The Hall Thruster Is On\r\n                    </label>\r\n                </div>\r\n\r\n                {/*Hall thruster powered on text*/}\r\n                <div id={\"hallThrusterOnSublabelDiv\"}>\r\n                    <label id={\"hallThrusterOnSublabel\"}\r\n                           className={\"sublabel hallThrusterOffSublabelPos  \"}>\r\n                        {hallThrusterSecondaryOnText}\r\n                        <p><b id={\"guideText\"}>Click on the cathode to learn more about</b></p>\r\n                    </label>\r\n                </div>\r\n\r\n                <div id={\"hallThrusterNameLabelDiv\"}>\r\n                    <label id={\"hallThrusterNameLabel\"}\r\n                           className={\"titleLabel hallThrusterNameTitleLabelPos\"}> Hall Thruster\r\n                    </label>\r\n                </div>\r\n\r\n                <div id={\"hallThrusterNameSublabelDiv\"}>\r\n                    <label id={\"hallThrusterNameSublabel\"}\r\n                           className={\"sublabel hallThrusterNameSublabelPos\"}>\r\n                        {hallThrusterPrimaryText}\r\n                    </label>\r\n                </div>\r\n\r\n                <div id={\"learningModeGuide\"} className={\"sublabel\"}>{this.state.text}</div>\r\n\r\n                <div id={\"toggleButtonGroup\"} className={\"stackedButtonGroup bottomrightAlign  \"}>\r\n                    <button id={\"HeatInsertToggle\"}\r\n                            className={\"button\"}\r\n                            onClick={this.HeatInsertToggle_HandleClick}> Toggle Heaters\r\n                    </button>\r\n                    <button id={\"GasFeedToggle\"}\r\n                            className={\"button\"}\r\n                            style={{display: \"block\"}}\r\n                            onClick={this.GasFeedToggle_HandleClick}> Toggle Gas Feed\r\n                    </button>\r\n                    <button id={\"KeeperElectrodeToggle\"}\r\n                            className={\"button\"}\r\n                            onClick={this.KeeperElectrodeToggle_HandleClick}> Toggle Keeper Electrode\r\n                    </button>\r\n                </div>\r\n                <button id={\"nextButton\"}\r\n                        className={\"button stackedButtonGroup bottomrightAlign\"}\r\n                        style={{display: \"none\"}}> Next\r\n                </button>\r\n\r\n                <Link to={'/hollow-cathode-visualization/summary'} id={'summaryButton'}>\r\n                    <button id={'summaryButton_'} className={\"button stackedButtonGroup bottomCenterAlign\"} hidden={true}>\r\n                        Summary\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LearningMode;","import {Link} from \"react-router-dom\";\r\nimport React from 'react'\r\nimport PresMode from \"./PresMode\";\r\nimport {base} from \"./Galactic\";\r\nimport Painter from \"./Painter\";\r\n\r\n\r\nclass SummaryPage extends React.Component{\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        PresMode.isAuto = false;\r\n        console.log(PresMode.isAuto);\r\n        if (PresMode.isAuto === false){\r\n            console.log(\"Summary toggle result: \"+PresMode.isAuto);\r\n            document.getElementById('autoToggleButton').click();\r\n        }\r\n        document.getElementById('autoToggleButton').style.display='none';\r\n        document.getElementById('nextButton').display= 'none';\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                <div>\r\n                    <div className={'summaryTitlePos'}>\r\n                        HOLLOW CATHODE VISUALIZATION SUMMARY\r\n                    </div>\r\n                    <div id={'summaryContent'} className={'summarySubLabel summarySubLabelPos'}>\r\n                        <p>\r\n                            First, a heater heats the cathode insert until it begins to emit electrons. Next, gas is\r\n                            injected near the insert and is ionized by the emitted electrons to form a hot plasma of\r\n                            ions and even more electrons. Lastly, a positive voltage is placed on the keeper electrode,\r\n                            pulling the electrons out of the end of the cathode where they can then be used by the Hall\r\n                            thruster. The hollow cathode is a critical component of the Hall thruster as it provides\r\n                            electrons needed to ionize its propellant and also neutralize the ionized propellant as it\r\n                            leaves the thruster such that they don’t negatively affect the spacecraft.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <PresMode id={\"presMode\"} deltastage={base} scene={[true, false, false, false, false, false, false, false]} onClick={\"eventHandle\"}/>\r\n            </>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default SummaryPage;","import React from \"react\";\r\n\r\nclass RefComponent extends React.Component{\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    componentDidMount() {\r\n        /* I moved this inline styling into its class (referenceDiv) */\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <div id={'ref'} className={\"referenceDiv\"}> {/* I moved the inline styling into its class (referenceDiv) */}\r\n            <div className={\"summaryTitlePos\"}>\r\n                REFERENCES\r\n            </div>\r\n            <div className={'summarySubLabel summarySubLabelPos'}>\r\n                <label>\r\n                    [1]    D. M. Goebel and I. Katz, “Fundamentals of Electric Propulsion: Ion and Hall Thrusters,” <i>JPL Space Science & Technology Series</i>, chapter 1-2, Mar. 2008. Available: <a href={\"https://descanso.jpl.nasa.gov/SciTechBook/series1/Goebel__cmprsd_opt.pdf\"} className={'reference-link'}>https://descanso.jpl.nasa.gov/SciTechBook/series1/Goebel__cmprsd_opt.pdf.</a> [Accessed: 09-Oct-2021].\r\n                </label>\r\n                <br/>\r\n                <br/>\r\n                <label>\r\n                    [2]    D. M. Goebel and I. Katz, “Fundamentals of Electric Propulsion: Ion and Hall Thrusters,” <i>JPL Space Science & Technology Series</i>, chapter 6, Mar. 2008. Available: <a href={\"https://descanso.jpl.nasa.gov/SciTechBook/series1/Goebel__cmprsd_opt.pdf\"} className={'reference-link'}>https://descanso.jpl.nasa.gov/SciTechBook/series1/Goebel__cmprsd_opt.pdf.</a> [Accessed: 09-Oct-2021].\r\n                </label>\r\n                <br/>\r\n                <br/>\r\n                <label>\r\n                    [3]    “Glossary,” Glossary | MIT Plasma Science and Fusion Center, 2021. [Online]. Available: <a href={\"https://www.psfc.mit.edu/vision/glossary.\"} className={'reference-link'}>https://www.psfc.mit.edu/vision/glossary.</a> [Accessed: 09-Oct-2021].\r\n                </label>\r\n                <br/>\r\n                <br/>\r\n                <label>\r\n                    [4]    J. D. Frieman, “CHARACTERIZATION OF BACKGROUND NEUTRAL FLOWS IN VACUUM TEST FACILITIES AND IMPACTS ON HALL EFFECT THRUSTER OPERATION,” dissertation, Georgia Institute of Technology, Atlanta, GA, 2017. Available: <a href={\"https://mwalker.gatech.edu/papers/FRIEMAN-DISSERTATION-2017.pdf\"} className={'reference-link'}>https://mwalker.gatech.edu/papers/FRIEMAN-DISSERTATION-2017.pdf.</a> [Accessed: 09-Oct-2021].\r\n                </label>\r\n                <br/>\r\n                <br/>\r\n                <label style={{\"margin-bottom\":\"3rem\"}}>\r\n                    [5]    S. T. Lai and K. Cahoy, “Spacecraft Charging,” Encyclopedia of Plasma Technology, pp. 1352–1366, Dec. 2016. Available: <a href={\"https://www.bc.edu/content/dam/files/research_sites/isr/pdf/2017%20Lai%20%26%20Cahoy%20-%20Encyclo.pdf\"} className={'reference-link'}>https://www.bc.edu/content/dam/files/research_sites/isr/pdf/2017%20Lai%20%26%20Cahoy%20-%20Encyclo.pdf.</a> [Accessed: 09-Oct-2021].\r\n                </label>\r\n                <br/>\r\n                <br/>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RefComponent;","import React from \"react\";\r\nimport Painter from \"./Painter\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {base, hallThrusterOff} from \"./Galactic\";\r\nimport PresMode from \"./PresMode\";\r\nimport LearningMode from \"./LearningMode\";\r\nimport {Link, Route, Routes} from \"react-router-dom\";\r\nimport HeaderComponent from \"./Header.component.\";\r\nimport SummaryPage from \"./SummaryPage\";\r\nimport RefComponent from \"./Ref.component\";\r\nimport FooterComponent from \"./Footer.component\";\r\n\r\n/**\r\n * Site landing page element\r\n * Should be rendered inside a <div id={\"canvasHolder\"}>\r\n */\r\nexport class LandingPage extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n\r\n        // create a reference to the canvas element\r\n        this.canvas = React.createRef();\r\n    }\r\n\r\n    /**\r\n     * componentDidMount()\r\n     * Called when canvas element is mounted on page (canvas element is unusable up until this point)\r\n     */\r\n    componentDidMount() {\r\n        // initialize instance variables for each canvas element/layer\r\n        const ctx0 = this.canvas.current.getContext('2d'); // base = 0;\r\n\r\n        this.layers = [ctx0];\r\n        this.painter = new Painter(this.layers);\r\n\r\n        this.showElement(\"landingPageTitleDiv\")\r\n        this.showElement(\"landingPageSubTitleDiv\")\r\n        this.showElement(\"landingPageLModePromptDiv\")\r\n\r\n        //this.LearningMode_HandleClick = this.LearningMode_HandleClick.bind(this);\r\n        //this.PresMode_HandleClick = this.PresMode_HandleClick.bind(this);\r\n    }\r\n\r\n    /**\r\n     * getLayer(layer)\r\n     * @param layer layer number which you want to get\r\n     * @returns ctx 2d canvas context for that layer\r\n     */\r\n    getLayer(layer){\r\n        return this.layers[layer];\r\n    }\r\n\r\n    /**\r\n     * LearningMode_HandleClick()\r\n     * Onclick handler for the learning mode button on the landing page\r\n     */\r\n    // LearningMode_HandleClick() {\r\n    //\r\n    //     // render learning mode\r\n    //     ReactDOM.render(\r\n    //         <div id={\"canvasHolder\"}>\r\n    //             <LearningMode id={\"LearningMode\"} deltastage={hallThrusterOff} scene={[false,false,false,false,false,false,true,false]}/>\r\n    //         </div>,\r\n    //         document.getElementById('root')\r\n    //     );\r\n    // }\r\n\r\n    /**\r\n     * PresMode_HandleClick()\r\n     * Onclick handler for the learning mode button on the landing page\r\n     */\r\n    // PresMode_HandleClick() {\r\n    //\r\n    //     // render learning mode\r\n    //     ReactDOM.render(\r\n    //         <div id={\"canvasHolder\"}>\r\n    //             <PresMode id={\"presMode\"} deltastage={base} scene={[true,false,false,false,false,false,false,false]}/>\r\n    //         </div>,\r\n    //         document.getElementById('root')\r\n    //     );\r\n    // }\r\n\r\n    /**\r\n     * Hides the element with the given id\r\n     * @param elementId id of element to hide\r\n     */\r\n    hideElement(elementId){\r\n        //document.getElementById(elementId).style.visibility = 'hidden';\r\n        document.getElementById(elementId).style.display = 'none';\r\n    }\r\n    /**\r\n     * Un-hides the element with the given id\r\n     * @param elementId id of element to show\r\n     */\r\n    showElement(elementId){\r\n        // document.getElementById(elementId).style.visibility = 'visible';\r\n        document.getElementById(elementId).style.display = 'flex';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={'canvasHolder'}>\r\n                <div>\r\n                    <canvas id={\"canvas\"}\r\n                            onClick={this.LearningMode_HandleClick}\r\n                            ref={this.canvas}\r\n                            className={\"unselectable\"}\r\n                            hidden={true}> You need a better browser :(\r\n                    </canvas>\r\n\r\n                    <Link to={'/hollow-cathode-visualization/learning'}>\r\n                        <img id={'spaceshipImage'} src={\"/hollow-cathode-visualization/images/spacecraft2.png\"} className={\"grow\"} alt={\"Psyche 16 spacecraft\"}/>\r\n                    </Link>\r\n\r\n                    <div className={\"stackedButtonGroup bottomrightAlign\"}>\r\n                        <Link to={'/hollow-cathode-visualization/learning'}>\r\n                            <button id={\"LearnModeButton\"} className={\"button\"}>\r\n                                Learning Mode\r\n                            </button>\r\n                        </Link>\r\n                        <Link to={'/hollow-cathode-visualization/presentation'}>\r\n                            <button id={\"PresModeButton\"} className={\"button\"}>\r\n                                Presentation Mode\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div id={\"landingPageTitleDiv\"} className={\"stackedButtonGroup landingPageTitleAlign\"} >\r\n                        <label id={\"landingPageTitle\"} className={\"landingPageTitleLabel\"}> Hollow Cathode </label>\r\n                    </div>\r\n\r\n                    <div id={\"landingPageSubTitleDiv\"} className={\"stackedButtonGroup landingPageSubTitleAlign\"} >\r\n                        <label id={\"landingPageSubTitle\"} className={\"landingPageSubTitleLabel\"}> Visualization </label>\r\n                    </div>\r\n\r\n                    <div id={\"landingPageLModePromptDiv\"} className={\"stackedButtonGroup landingPageLModePromptAlign\"} >\r\n                        <label id={\"landingPageLModePrompt\"} className={\"landingPageLModePromptLabel\"}> click the spacecraft to begin </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LandingPage;","import './App.css';\r\nimport './landingPage.css';\r\nimport React from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Routes,\r\n    Route\r\n} from 'react-router-dom';\r\nimport LandingPage from \"./LandingPage\";\r\nimport LearningMode from \"./LearningMode\";\r\nimport PresMode from \"./PresMode\";\r\nimport SummaryPage from \"./SummaryPage\";\r\nimport RefComponent from \"./Ref.component\";\r\nimport {base, hallThrusterOff} from \"./Galactic\";\r\n\r\nfunction MyRouter(){\r\n        return(\r\n            <Router>\r\n                <div className={\"showWhenTooSmall\"}>\r\n                    <p>\r\n                        Your window size is too small for this visualization.\r\n                        Please set your window size to full screen before continuing.\r\n                    </p>\r\n                </div>\r\n                <div className={\"hideWhenTooSmall\"}>\r\n                    <Routes>\r\n                        <Route path={'/hollow-cathode-visualization/'} element={<LandingPage id={\"LandingPage\"}/>}></Route>\r\n                        <Route path={'/hollow-cathode-visualization/learning'} element={<LearningMode id={\"LearningMode\"} deltastage={hallThrusterOff}\r\n                                      scene={[false,false,false,false,false,false,true,false]}/>}></Route>\r\n                        <Route path={'/hollow-cathode-visualization/presentation'} element={<PresMode id={\"presMode\"} deltastage={base}\r\n                                      scene={[true,false,false,false,false,false,false,false]}/>}></Route>\r\n                        <Route path={'/hollow-cathode-visualization/summary'} element={<SummaryPage/>}></Route>\r\n                        <Route path={'/hollow-cathode-visualization/ref'} element={<RefComponent/>}></Route>\r\n                    </Routes>\r\n                </div>\r\n            </Router>\r\n        )\r\n}\r\n\r\nexport default MyRouter;","import './App.css';\r\nimport './landingPage.css';\r\nimport React from 'react';\r\n\r\nimport HeaderComponent from \"./Header.component.\";\r\nimport FooterComponent from \"./Footer.component\";\r\n\r\nimport MyRouter from \"./myRouter\";\r\n// dummy data to push images, please delete this comment if you see it //:debug\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <HeaderComponent/>\r\n            <div id=\"page-container\">\r\n                <noscript>You need to enable JavaScript to run this app.</noscript>\r\n                <div id=\"root\" className=\"App App-header\">\r\n                    <MyRouter />\r\n                </div>\r\n            </div>\r\n            <FooterComponent/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './landingPage.css';\r\nimport './App.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('body')\r\n);"],"sourceRoot":""}